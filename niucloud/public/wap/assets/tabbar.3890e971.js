import{_ as t}from"./u-icon.2852c2d9.js";import{A as a,B as e,C as o,q as l,t as i,i as n,j as r,w as s,k as c,P as u,R as d,F as b,p as m,G as p,H as v,x as y,I as f,d as h,O as g,c as k,aG as x,n as _,Q as C,y as S,m as D,h as I}from"./index-b892d4e0.js";import{_ as P}from"./u-badge.9b3b2160.js";import{_ as $}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as j}from"./u-tabbar.7727a8c8.js";const A=$({name:"u-tabbar-item",mixins:[e,o,{props:{name:{type:[String,Number,null],default:a.tabbarItem.name},icon:{icon:String,default:a.tabbarItem.icon},badge:{type:[String,Number,null],default:a.tabbarItem.badge},dot:{type:Boolean,default:a.tabbarItem.dot},text:{type:String,default:a.tabbarItem.text},badgeStyle:{type:[Object,String],default:a.tabbarItem.badgeStyle}}}],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}),options:{virtualHost:!0},created(){this.init()},methods:{init(){this.updateParentData(),this.parent||uni.$u.error("u-tabbar-item必须搭配u-tabbar组件使用");const t=this.parent.children.indexOf(this);this.isActive=(this.name||t)===this.parentData.value},updateParentData(){this.getParentData("u-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const t=this.parent.children.indexOf(this),a=this.name||t;a!==this.parent.value&&this.parent.$emit("change",a),this.$emit("click",a)}))}}},[["render",function(a,e,o,h,g,k){const x=l(i("u-icon"),t),_=l(i("u-badge"),P),C=y,S=f;return n(),r(C,{class:"u-tabbar-item",style:m([a.$u.addStyle(a.customStyle)]),onClick:k.clickHandler},{default:s((()=>[c(C,{class:"u-tabbar-item__icon"},{default:s((()=>[a.icon?(n(),r(x,{key:0,name:a.icon,color:g.isActive?g.parentData.activeColor:g.parentData.inactiveColor,size:20},null,8,["name","color"])):(n(),u(d,{key:1},[g.isActive?b(a.$slots,"active-icon",{key:0},void 0,!0):b(a.$slots,"inactive-icon",{key:1},void 0,!0)],64)),c(_,{absolute:"",offset:[0,a.dot?"34rpx":a.badge>9?"14rpx":"20rpx"],customStyle:a.badgeStyle,isDot:a.dot,value:a.badge||(a.dot?1:null),show:a.dot||a.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),b(a.$slots,"text",{},(()=>[c(S,{class:"u-tabbar-item__text",style:m({color:g.isActive?g.parentData.activeColor:g.parentData.inactiveColor})},{default:s((()=>[p(v(a.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-b5faebd4"]]),H=$(h({__name:"tabbar",props:{addon:{type:String,default:""}},setup(t){const a=t;if(a.addon){g().getTabbarConfig(a.addon)}const e=k((()=>g().tabbar)),o=k((()=>"/"+x())),b=t=>{I({url:`${t}`})};return(t,a)=>{const p=l(i("u-tabbar-item"),A),v=l(i("u-tabbar"),j),f=y;return _(e)&&Object.keys(_(e)).length?(n(),u(d,{key:0},[_(e)?(n(),r(v,{key:0,value:_(o),onChange:b,zIndex:"9999",fixed:!0,placeholder:!0,safeAreaInsetBottom:!0,"inactive-color":_(e).value.textColor,"active-color":_(e).value.textHoverColor},{default:s((()=>[(n(!0),u(d,null,C(_(e).value.list,(t=>(n(),u(d,null,[1==_(e).value.type?(n(),r(p,{key:0,style:m({"background-color":_(e).value.backgroundColor}),text:t.text,icon:_(S)(_(o)==t.link.url?t.iconSelectPath:t.iconPath),name:t.link.url},null,8,["style","text","icon","name"])):D("v-if",!0),2==_(e).value.type?(n(),r(p,{key:1,style:m({"background-color":_(e).value.backgroundColor}),icon:_(S)(_(o)==t.link.url?t.iconSelectPath:t.iconPath),name:t.link.url},null,8,["style","icon","name"])):D("v-if",!0),3==_(e).value.type?(n(),r(p,{key:2,style:m({"background-color":_(e).value.backgroundColor}),text:t.text,name:t.link.url},null,8,["style","text","name"])):D("v-if",!0)],64)))),256))])),_:1},8,["value","inactive-color","active-color"])):D("v-if",!0),c(f,{class:"tab-bar-placeholder"})],64)):D("v-if",!0)}}}),[["__scopeId","data-v-d56316ab"]]);export{H as _};
