import{d as e,r as t,aN as o,i as l,j as a,w as s,n as r,k as c,bi as i,m as d,P as u,Q as n,R as p,D as x,h as f,a6 as _,I as g,x as v,a7 as m,q as h,t as k,G as b,H as y,y as w,c as C,$ as j,E as S,_ as N,bj as F,J as I,l as z,v as E,p as B,ab as L,ac as V,aS as O,N as R,o as U,e as M}from"./index-b892d4e0.js";import{_ as $}from"./u-icon.2852c2d9.js";import{_ as T}from"./u--image.b7971bb1.js";import{_ as D}from"./tabbar.3890e971.js";import{_ as J}from"./u-loading-page.ce4f8a29.js";import{a as q,h as A,b as P,i as G}from"./goods.9f0d57f9.js";import{M as H}from"./mescroll-empty.7dc6de81.js";import{_ as K}from"./_plugin-vue_export-helper.1b428a4d.js";import{u as Q,M as Y}from"./useMescroll.7bd73685.js";import{u as W,_ as X}from"./cart.d1fc6a79.js";import{_ as Z}from"./u-button.08a3c855.js";import{_ as ee}from"./u-popup.01e03503.js";import"./u-image.4f60c619.js";import"./u-transition.7137dcba.js";import"./u-badge.9b3b2160.js";import"./u-tabbar.7727a8c8.js";import"./u-safe-bottom.f8131532.js";import"./u-loading-icon.4005a6dc.js";/* empty css                                                                       */const te=K(e({__name:"category-template-two-one",props:{config:{type:Object,default:()=>({})},categoryId:{type:[String,Number],default:0}},setup(e){const C=e;let j=C.config,S=C.categoryId,N=t(""),F=t(!0);o((()=>{z()}));const I=t([]),z=()=>{F.value=!0,q().then((e=>{if(I.value=e.data,S)for(let t=0;t<I.value.length;t++){if(I.value[t].category_id==S){E.value=t;break}if(I.value[t].child_list)for(let e=0;e<I.value[t].child_list.length;e++)if(I.value[t].child_list[e].category_id==S){E.value=t;break}}F.value=!1})).catch((()=>{F.value=!1}))},E=t(0),B=()=>{f({url:"/addon/shop/pages/goods/list",param:{goods_name:N.value}})};return(e,t)=>{const o=_,C=g,S=v,z=m,L=h(k("u-icon"),$),V=h(k("u--image"),T),O=h(k("tabbar"),D),R=h(k("u-loading-page"),J);return l(),a(S,{class:"bg-[#f8f8f8] min-h-screen"},{default:s((()=>[I.value.length?(l(),a(S,{key:0,class:"mescroll-box"},{default:s((()=>[r(j).search.control?(l(),a(S,{key:0,class:"search-box z-2 bg-[#fff] fixed top-0 left-0 right-0"},{default:s((()=>[c(o,{class:"search-ipt text-sm",type:"text",modelValue:r(N),"onUpdate:modelValue":t[0]||(t[0]=e=>i(N)?N.value=e:N=e),placeholder:r(j).search.title},null,8,["modelValue","placeholder"]),c(S,{class:"flex items-center z-2 h-[70rpx] absolute right-[48rpx] top-[18rpx]"},{default:s((()=>[c(C,{class:"iconfont iconxiazai17 text-[30rpx]",onClick:B})])),_:1})])),_:1})):d("v-if",!0),c(S,{class:x(["tabs-box z-2 fixed left-0 bg-[#fff] bottom-[50px] top-0",{"!top-[106rpx]":r(j).search.control}])},{default:s((()=>[c(z,{"scroll-y":!0,height:"100%"},{default:s((()=>[c(S,null,{default:s((()=>[(l(!0),u(p,null,n(I.value,((e,t)=>(l(),a(S,{class:x(["tab-item truncate",{"tab-item-active":t==E.value}]),key:e.site_id,onClick:e=>((e,t)=>{E.value=e})(t)},{default:s((()=>[c(S,{class:"text-box"},{default:s((()=>[b(y(e.category_name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["class"]),c(z,{"scroll-y":!0},{default:s((()=>[c(S,{class:x(["flex flex-wrap pl-[182rpx] pb-[70rpx] pt-[20rpx]",{"!pt-[126rpx]":r(j).search.control}])},{default:s((()=>{var e,t;return[(l(!0),u(p,null,n(null==(e=I.value[E.value])?void 0:e.child_list,((e,t)=>(l(),a(S,{key:e.category_id,class:"w-[160rpx] ml-[22rpx] mb-[24rpx]",onClick:t=>{return o=e.category_id,void f({url:"/addon/shop/pages/goods/list",param:{curr_goods_category:o}});var o}},{default:s((()=>[c(V,{width:"160rpx",height:"160rpx",src:r(w)(e.image?e.image:""),model:"aspectFill"},{error:s((()=>[c(L,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"]),c(S,{class:"text-[28rpx] text-center mt-[12rpx]"},{default:s((()=>[b(y(e.category_name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),(null==(t=I.value[E.value])?void 0:t.child_list)||r(F)?d("v-if",!0):(l(),a(S,{key:0,class:"flex justify-center w-[100%]"},{default:s((()=>[c(H,{option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"])])),_:1}))]})),_:1},8,["class"])])),_:1})])),_:1})):d("v-if",!0),c(O,{addon:"shop"}),I.value.length||r(F)?d("v-if",!0):(l(),a(S,{key:1,class:"flex justify-center w-[100%]"},{default:s((()=>[c(H,{option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"])])),_:1})),c(R,{"bg-color":"rgb(248,248,248)",loading:r(F),fontSize:"16",color:"#333"},null,8,["loading"])])),_:1})}}}),[["__scopeId","data-v-111fc6a9"]]),oe=e({__name:"add-cart-popup",setup(e,{expose:o}){const i=W(),f=C((()=>i.cartList));let _=t(!1),I=t({skuId:"",name:[]}),z=t({}),E=t({});const B=t(1),L=()=>{_.value=!1},V=C((()=>{let e=JSON.parse(JSON.stringify(z.value));return Object.keys(e).length&&(Object.keys(I.value.name).length||(I.value.name=e.sku_spec_format.split(",")),e.goodsSpec.forEach(((e,t)=>{let o=e.spec_values.split(",");e.values=[],o.forEach(((o,l)=>{e.values[l]={},e.values[l].name=o,e.values[l].selected=!1,e.values[l].disabled=!1,I.value.name.forEach(((a,s)=>{s==t&&a==o&&(e.values[l].selected=!0)}))}))})),O(),e.skuList&&Object.keys(e.skuList).length&&e.skuList.forEach((e=>{e.sku_id==I.value.skuId&&(E.value=e)}))),e}));j((()=>E.value),((e,t)=>{f.value["goods_"+E.value.goods_id]&&f.value["goods_"+E.value.goods_id]["sku_"+E.value.sku_id]?(B.value=F(f.value["goods_"+E.value.goods_id]["sku_"+E.value.sku_id].num),E.value.cart_id=F(f.value["goods_"+E.value.goods_id]["sku_"+E.value.sku_id].id)):(B.value=1,E.value.cart_id="")}));const O=()=>{z.value.skuList.forEach(((e,t)=>{let o=e.sku_spec_format.split(",");I.value.name.every((e=>o.includes(e)))&&(I.value.skuId=e.sku_id)}))},R=()=>{0==B.value?i.reduce({id:E.value.cart_id||"",goods_id:E.value.goods_id,sale_price:E.value.sale_price,sku_id:E.value.sku_id}):i.increase({id:E.value.cart_id||"",goods_id:E.value.goods_id,sku_id:E.value.sku_id,stock:E.value.stock,sale_price:E.value.sale_price,num:B.value},0,(()=>{N({title:"加入购物车成功",icon:"none"})})),_.value=!1};return o({open:e=>{(e=>{A(e).then((t=>{z.value=t.data,I.value.sku_id=e,z.value.skuList&&Object.keys(z.value.skuList).length&&z.value.skuList.forEach((t=>{t.sku_id==e&&(E.value=t,I.value.name=t.sku_spec_format.split(","))})),_.value=!0}))})(e)}}),(e,t)=>{const o=v,i=h(k("u-icon"),$),C=h(k("u--image"),T),j=g,N=h(k("u-number-box"),X),F=m,z=h(k("u-button"),Z),O=h(k("u-popup"),ee);return l(),a(o,{onTouchmove:t[2]||(t[2]=S((()=>{}),["prevent","stop"]))},{default:s((()=>[c(O,{show:r(_),onClose:L,mode:"bottom"},{default:s((()=>[Object.keys(r(V)).length?(l(),a(o,{key:0,class:"rounded-t-[20rpx] overflow-hidden bg-[#fff] p-[32rpx] relative"},{default:s((()=>[c(o,{class:"absolute right-[37rpx] iconfont iconguanbi text-[50rpx]",onClick:L}),c(o,{class:"flex mb-[58rpx]"},{default:s((()=>[c(o,{class:"rounded-[8rpx] overflow-hidden"},{default:s((()=>[c(C,{width:"204rpx",height:"204rpx",src:r(w)(r(E).sku_image),model:"aspectFill"},{error:s((()=>[c(i,{name:"photo",color:"#999",size:"50"})])),_:1},8,["src"])])),_:1}),c(o,{class:"flex flex-1 flex-col justify-between ml-[20rpx]"},{default:s((()=>[c(o,{class:"w-[100%]"},{default:s((()=>[c(o,{class:"text-[var(--price-text-color)] price-font"},{default:s((()=>[c(j,{class:"text-[28rpx] font-bold"},{default:s((()=>[b("￥")])),_:1}),c(j,{class:"text-[42rpx] mr-[10rpx] font-bold"},{default:s((()=>[b(y(r(E).sale_price),1)])),_:1})])),_:1}),c(o,{class:"text-[24rpx] leading-[32rpx] text-[#666] mt-[12rpx]"},{default:s((()=>[b("库存"+y(r(E).stock)+y(r(V).goods.unit),1)])),_:1})])),_:1}),r(V).goodsSpec&&r(V).goodsSpec.length?(l(),a(o,{key:0,class:"w-[100%]",style:{"max-height":"calc(204rpx - 126rpx)",overflow:"hidden"}},{default:s((()=>[c(j,{class:"text-[24rpx] leading-[32rpx] text-[#666]"},{default:s((()=>[b("已选规格："+y(r(E).sku_spec_format),1)])),_:1})])),_:1})):d("v-if",!0)])),_:1})])),_:1}),c(F,{class:"h-[500rpx]","scroll-y":"true"},{default:s((()=>[(l(!0),u(p,null,n(r(V).goodsSpec,((e,t)=>(l(),a(o,{class:"mb-[50rpx]",key:t},{default:s((()=>[c(o,{class:"text-[26rpx] leading-[36rpx] mb-[30rpx]"},{default:s((()=>[b(y(e.spec_name),1)])),_:2},1024),c(o,{class:"flex flex-wrap"},{default:s((()=>[(l(!0),u(p,null,n(e.values,((e,r)=>(l(),a(o,{class:x(["box-border min-w-[96rpx] text-[24rpx] px-[15rpx] text-center h-[52rpx] leading-[52rpx] mr-[20rpx] border-1 border-solid rounded-[8rpx]",{"border-[var(--primary-color)] text-[var(--primary-color)] bg-[var(--primary-color-light)]":e.selected}]),key:r,onClick:o=>((e,t)=>{I.value.name[t]=e.name})(e,t)},{default:s((()=>[b(y(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128)),c(o,{class:"flex justify-between"},{default:s((()=>[c(o,{class:"text-[26rpx] leading-[36rpx] mb-[30rpx]"},{default:s((()=>[b("购买数量")])),_:1}),r(f)["goods_"+r(E).goods_id]&&r(f)["goods_"+r(E).goods_id]["sku_"+r(E).sku_id]?(l(),a(N,{key:0,modelValue:B.value,"onUpdate:modelValue":t[0]||(t[0]=e=>B.value=e),min:0,max:r(E).stock,integer:"",step:1,"input-width":"98rpx","input-height":"54rpx"},{minus:s((()=>[c(j,{class:x(["text-[44rpx] iconfont iconjianhao text-[var(--primary-color)]",{"!text-[#c8c9cc]":0===B.value}])},null,8,["class"])])),input:s((()=>[c(j,{class:"text-[#333] fext-[23rpx] font-500 mx-[16rpx]"},{default:s((()=>[b(y(B.value),1)])),_:1})])),plus:s((()=>[c(j,{class:x(["text-[44rpx] iconfont iconjiahao2fill text-[var(--primary-color)]",{"!text-[#c8c9cc]":B.value===r(E).stock}])},null,8,["class"])])),_:1},8,["modelValue","max"])):(l(),a(N,{key:1,modelValue:B.value,"onUpdate:modelValue":t[1]||(t[1]=e=>B.value=e),min:1,max:r(E).stock,integer:"",step:1,"input-width":"98rpx","input-height":"54rpx"},{minus:s((()=>[c(j,{class:x(["text-[44rpx] iconfont iconjianhao text-[var(--primary-color)]",{"!text-[#c8c9cc]":1===B.value}])},null,8,["class"])])),input:s((()=>[c(j,{class:"text-[#333] fext-[23rpx] font-500 mx-[16rpx]"},{default:s((()=>[b(y(B.value),1)])),_:1})])),plus:s((()=>[c(j,{class:x(["text-[44rpx] iconfont iconjiahao2fill text-[var(--primary-color)]",{"!text-[#c8c9cc]":B.value===r(E).stock}])},null,8,["class"])])),_:1},8,["modelValue","max"]))])),_:1})])),_:1}),c(z,{class:"!h-[80rpx] !text-[30rpx] !m-0 !mt-[30rpx]",type:"primary",shape:"circle",onClick:R},{default:s((()=>[b("确定")])),_:1})])),_:1})):d("v-if",!0)])),_:1},8,["show"])])),_:1})}}}),le=K(e({__name:"category-template-one-one",props:{config:{type:Object,default:()=>({})},categoryId:{type:[String,Number],default:0}},setup(e){const j=e,F=W();F.getList();const U=C((()=>F.cartList)),M=C((()=>F.totalNum)),A=C((()=>F.totalMoney)),G=I(),K=C((()=>G.info)),{mescrollInit:X,getMescroll:Z}=Q(V,L);let ee=j.config,te=j.categoryId,le=t([]),ae=t(""),se=t(!0),re=t(!1);t([]).value=uni.getStorageSync("shopCart")||[];const ce=e=>{re.value=!1,P({page:e.num,limit:e.size,keyword:"",goods_category:te,brand_id:"",label_ids:"",start_price:"",end_price:"",order:"price",sort:"desc"}).then((t=>{let o=t.data.data;1==e.num&&(le.value=[]),le.value=le.value.concat(o),se.value=!1,e.endSuccess(o.length),le.value.length||(re.value=!0)})).catch((()=>{se.value=!1,re.value=!0,e.endErr()}))},ie=e=>{f({url:"/addon/shop/pages/goods/detail",param:{goods_id:e}})};o((()=>{ne()}));const de=t(""),ue=t([]),ne=()=>{se.value=!0,q().then((e=>{if(ue.value=e.data,te)for(let t=0;t<ue.value.length;t++){if(ue.value[t].category_id==te){pe.value=t;break}if(ue.value[t].child_list)for(let e=0;e<ue.value[t].child_list.length;e++)if(ue.value[t].child_list[e].category_id==te){pe.value=t;break}}else te=e.data[0].category_id;se.value=!1})).catch((()=>{se.value=!1}))},pe=t(0),xe=()=>{f({url:"/addon/shop/pages/goods/list",param:{goods_name:ae.value}})};let fe=t();const _e=(e,t)=>"cart"!==ee.cart.event?ie(e.goods_id):K.value?void(e.sku_spec_format?fe.value.open(e.sku_id):((e,t)=>{const o=window.document.getElementById("animation-end"),l=o.getBoundingClientRect().left,a=o.getBoundingClientRect().top,s=window.document.getElementById(t),r=s.getBoundingClientRect().left,c=s.getBoundingClientRect().top;de.value=`top: ${c}px; left: ${r}px;`,setTimeout((()=>{de.value=`top: ${a}px; left: ${l}px; transition: all 1s; transform: rotate(-720deg);`}),20),setTimeout((()=>{de.value="",F.increase({goods_id:e.goods_id,sku_id:e.sku_id,sale_price:e.sale_price,stock:e.stock})}),1020)})(e,t)):(R().setLoginBack({url:"/addon/shop/pages/goods/category"}),!1),ge=()=>{f({url:"/addon/shop/pages/goods/cart"})},ve=()=>{if(!M.value)return void N({title:"还没有选择商品",icon:"none"});const e=[];Object.values(U.value).forEach((t=>{Object.keys(t).forEach((o=>{"totalNum"!=o&&"totalMoney"!=o&&e.push(t[o].id)}))})),uni.setStorage({key:"orderCreateData",data:{cart_ids:e},success(){f({url:"/addon/shop/pages/order/payment"})}})};return(e,t)=>{const o=_,f=g,C=v,j=m,N=h(k("u-icon"),$),I=h(k("u--image"),T),L=O,V=h(k("u-loading-page"),J),R=h(k("tabbar"),D);return l(),a(C,{class:"min-h-screen"},{default:s((()=>[ue.value.length?(l(),a(C,{key:0,class:x(["mescroll-box bg-[#F4F6F8]",{cart:r(ee).cart.control&&"cart"===r(ee).cart.event,detail:!(r(ee).cart.control&&"cart"===r(ee).cart.event)}])},{default:s((()=>[c(Y,{ref:"mescrollRef",down:{use:!1},onInit:r(X),onUp:ce},{default:s((()=>[r(ee).search.control?(l(),a(C,{key:0,class:"search-box z-2 bg-[#fff] fixed top-0 left-0 right-0"},{default:s((()=>[c(o,{class:"search-ipt text-sm",type:"text",modelValue:r(ae),"onUpdate:modelValue":t[0]||(t[0]=e=>i(ae)?ae.value=e:ae=e),placeholder:r(ee).search.title},null,8,["modelValue","placeholder"]),c(C,{class:"flex items-center z-2 h-[70rpx] absolute right-[48rpx] top-[18rpx]"},{default:s((()=>[c(f,{class:"iconfont iconxiazai17 text-[30rpx]",onClick:xe})])),_:1})])),_:1})):d("v-if",!0),c(C,{class:x(["tabs-box z-2 fixed left-0 bg-[#fff] bottom-[50px] top-0",{"!top-[106rpx]":r(ee).search.control,"pb-[98rpx]":r(ee).cart.control&&"cart"===r(ee).cart.event}])},{default:s((()=>[c(j,{"scroll-y":!0,height:"100%"},{default:s((()=>[c(C,null,{default:s((()=>[(l(!0),u(p,null,n(ue.value,((e,t)=>(l(),a(C,{class:x(["tab-item truncate",{"tab-item-active":t==pe.value}]),key:e.site_id,onClick:o=>((e,t)=>{pe.value=e,te=t.category_id,Z().resetUpScroll()})(t,e)},{default:s((()=>[c(C,{class:"text-box"},{default:s((()=>[b(y(e.category_name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["class"]),c(C,{class:x(["flex justify-center flex-wrap pl-[182rpx]",{" pt-[126rpx]":r(ee).search.control," pt-[20rpx]":!r(ee).search.control}])},{default:s((()=>[(l(!0),u(p,null,n(r(le),((e,t)=>(l(),a(C,{key:e.goods_id,class:x(["w-[536rpx] box-border bg-white w-full flex mx-[16rpx] px-[24rpx] py-[20rpx] rounded-[12rpx]",{"mt-[16rpx]":t}]),onClick:S((t=>ie(e.goods_id)),["stop"])},{default:s((()=>[c(C,{class:"overflow-hidden mr-[8rpx] rounded-md"},{default:s((()=>[c(I,{width:"168rpx",height:"168rpx",src:r(w)(e.goods_cover_thumb_mid?e.goods_cover_thumb_mid:""),model:"aspectFill"},{error:s((()=>[c(N,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"])])),_:2},1024),c(C,{class:"flex flex-1 ml-[8rpx] flex-wrap"},{default:s((()=>[c(C,{class:"w-[316rpx] max-h-[72rpx] text-[26rpx] font-500 leading-[36rpx] multi-hidden"},{default:s((()=>[b(y(e.goods_name),1)])),_:2},1024),c(C,{class:"w-[316rpx] flex self-end items-end justify-between"},{default:s((()=>[c(f,{class:"text-[var(--price-text-color)] price-font"},{default:s((()=>[c(f,{class:"text-[20rpx]"},{default:s((()=>[b("￥")])),_:1}),c(f,{class:"text-[28rpx] mr-[10rpx]"},{default:s((()=>[b(y(e.goodsSku.price),1)])),_:2},1024)])),_:2},1024),""===e.goodsSku.sku_spec_format&&r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id]&&r(ee).cart.control&&"cart"===r(ee).cart.event?(l(),a(C,{key:0,class:"flex items-center"},{default:s((()=>[c(f,{class:"text-[44rpx] text-color iconfont iconjianhao",onClick:S((t=>{return o=r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id],void F.reduce({id:o.id,goods_id:o.goods_id,sku_id:o.sku_id,stock:o.stock,sale_price:o.sale_price,num:o.num});var o}),["stop"])},null,8,["onClick"]),c(f,{class:"text-[#333] fext-[23rpx] font-500 mx-[16rpx]"},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id].num),1)])),_:2},1024),c(f,{class:"text-[44rpx] text-color iconfont iconjiahao2fill",onClick:S((t=>{return o=r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id],void F.increase({id:o.id,goods_id:o.goods_id,sku_id:o.sku_id,stock:o.stock,sale_price:o.sale_price,num:o.num});var o}),["stop"])},null,8,["onClick"])])),_:2},1024)):(l(),u(p,{key:1},[r(ee).cart.control&&"style-1"===r(ee).cart.style?(l(),a(C,{key:0,class:"h-[44rpx] relative"},{default:s((()=>[c(f,{id:"itemCart"+t,class:"text-[#fff] bg-color h-[44rpx] text-[28rpx] px-[10px] leading-[44rpx] rounded-[22rpx]",onClick:S((o=>_e(e.goodsSku,"itemCart"+t)),["stop"])},{default:s((()=>[b(y(r(ee).cart.text),1)])),_:2},1032,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(ee).cart.control&&"style-2"===r(ee).cart.style?(l(),a(C,{key:1,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(f,{id:"itemCart"+t,class:"text-color iconfont iconjiahao1 text-[44rpx]",onClick:S((o=>_e(e.goodsSku,"itemCart"+t)),["stop"])},null,8,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(ee).cart.control&&"style-3"===r(ee).cart.style?(l(),a(C,{key:2,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(f,{id:"itemCart"+t,class:"text-color iconfont icongouwuche !text-[44rpx]",onClick:S((o=>_e(e.goodsSku,"itemCart"+t)),["stop"])},null,8,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(ee).cart.control&&"style-4"===r(ee).cart.style?(l(),a(C,{key:3,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(C,{id:"itemCart"+t,class:"flex items-center justify-center text-[#fff] bg-color h-[44rpx] w-[44rpx] rounded-[22rpx] text-center",onClick:S((o=>_e(e.goodsSku,"itemCart"+t)),["stop"])},{default:s((()=>[c(f,{class:"iconfont icongouwuche !text-[30rpx]"})])),_:2},1032,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0)],64))])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),r(le).length||r(se)||!r(re)?d("v-if",!0):(l(),a(H,{key:0,option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"]))])),_:1},8,["class"]),c(oe,{ref_key:"cartRef",ref:fe},null,512)])),_:1},8,["onInit"]),r(ee).cart.control&&"cart"===r(ee).cart.event?(l(),a(C,{key:0,class:"bg-[#fff] z-2 flex justify-between items-center fixed left-0 right-0 bottom-[50px] box-solid px-[24rpx] pt-[10rpx] pb-[18rpx]"},{default:s((()=>[c(C,{class:"flex items-center"},{default:s((()=>[c(C,{class:"w-[70rpx] h-[70rpx] mr-[27rpx] relative"},{default:s((()=>[c(C,{id:"animation-end",class:"w-[70rpx] h-[70rpx] rounded-[35rpx] bg-[var(--primary-color)] text-center leading-[70rpx]",onClick:S(ge,["stop"])},{default:s((()=>[c(f,{class:"icongouwuche1 iconfont text-[#fff]"})])),_:1},8,["onClick"]),r(M)?(l(),a(C,{key:0,class:x(["absolute left-[50rpx] top-[-10rpx] rounded-[28rpx] h-[28rpx] min-w-[25rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(M)>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(M)>99?"99+":r(M)),1)])),_:1},8,["class"])):d("v-if",!0)])),_:1}),c(f,{class:"text-[32rpx] font-500 text-[#333]"},{default:s((()=>[b("总计：")])),_:1}),c(f,{class:"text-[32rpx] font-500 text-[var(--price-text-color)] price-font"},{default:s((()=>[b("￥"+y(r(A)),1)])),_:1})])),_:1}),c(L,{class:"w-[180rpx] h-[70rpx] text-[30rpx] leading-[70rpx] text-[#fff] m-0 rounded-full bg-color remove-border",shape:"circle",onClick:ve},{default:s((()=>[b("去结算")])),_:1})])),_:1})):d("v-if",!0)])),_:1},8,["class"])):d("v-if",!0),z(c(C,{style:B(de.value),class:"fixed z-999 flex items-center justify-center text-[#fff] bg-color h-[44rpx] w-[44rpx] rounded-[22rpx] text-center"},{default:s((()=>[c(f,{class:"iconfont icongouwuche !text-[30rpx]"})])),_:1},8,["style"]),[[E,de.value]]),ue.value.length||r(se)?d("v-if",!0):(l(),a(C,{key:1,class:"flex justify-center w-[100%]"},{default:s((()=>[c(H,{option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"])])),_:1})),c(V,{"bg-color":"rgb(248,248,248)",loading:r(se),fontSize:"16",color:"#333"},null,8,["loading"]),c(R,{addon:"shop"})])),_:1})}}}),[["__scopeId","data-v-bd4522ba"]]),ae=K(e({__name:"category-template-two-two",props:{config:{type:Object,default:()=>({})},categoryId:{type:[String,Number],default:0}},setup(e){const j=e,F=W();F.getList();const U=C((()=>F.cartList)),M=C((()=>F.totalNum)),A=C((()=>F.totalMoney)),G=I(),K=C((()=>G.info)),{mescrollInit:X,getMescroll:Z}=Q(V,L);let te=j.config,le=j.categoryId,ae=t([]),se=t(""),re=t(!0),ce=t(!1),ie=t(!1);t([]).value=uni.getStorageSync("shopCart")||[];const de=e=>{ce.value=!1,P({page:e.num,limit:e.size,keyword:"",goods_category:le,brand_id:"",label_ids:"",start_price:"",end_price:"",order:"price",sort:"desc"}).then((t=>{let o=t.data.data;1==e.num&&(ae.value=[]),ae.value=ae.value.concat(o),re.value=!1,e.endSuccess(o.length),ae.value.length||(ce.value=!0)})).catch((()=>{re.value=!1,ce.value=!0,e.endErr()}))},ue=e=>{f({url:"/addon/shop/pages/goods/detail",param:{goods_id:e}})};o((()=>{xe()}));const ne=t(""),pe=t([]),xe=()=>{re.value=!0,q().then((e=>{if(pe.value=e.data,le)for(let t=0;t<pe.value.length;t++){if(pe.value[t].category_id==le){fe.value=t;break}if(pe.value[t].child_list)for(let e=0;e<pe.value[t].child_list.length;e++)if(pe.value[t].child_list[e].category_id==le){fe.value=t,_e.value=e;break}}else le=e.data[0].category_id;re.value=!1})).catch((()=>{re.value=!1}))},fe=t(0),_e=t(0),ge=(e,t)=>{_e.value=e,le=t.category_id,ie.value=!1,Z().resetUpScroll()},ve=()=>{f({url:"/addon/shop/pages/goods/list",param:{goods_name:se.value}})};let me=t();const he=(e,t)=>"cart"!==te.cart.event?ue(e.goods_id):K.value?void(e.sku_spec_format?me.value.open(e.sku_id):((e,t)=>{const o=window.document.getElementById("animation-end"),l=o.getBoundingClientRect().left,a=o.getBoundingClientRect().top,s=window.document.getElementById(t),r=s.getBoundingClientRect().left,c=s.getBoundingClientRect().top;ne.value=`top: ${c}px; left: ${r}px;`,setTimeout((()=>{ne.value=`top: ${a}px; left: ${l}px; transition: all 1s; transform: rotate(-720deg);`}),20),setTimeout((()=>{ne.value="",F.increase({goods_id:e.goods_id,sku_id:e.sku_id,sale_price:e.sale_price,stock:e.stock})}),1020)})(e,t)):(R().setLoginBack({url:"/addon/shop/pages/goods/category"}),!1),ke=()=>{f({url:"/addon/shop/pages/goods/cart"})},be=()=>{if(!M.value)return void N({title:"还没有选择商品",icon:"none"});const e=[];Object.values(U.value).forEach((t=>{Object.keys(t).forEach((o=>{"totalNum"!=o&&"totalMoney"!=o&&e.push(t[o].id)}))})),uni.setStorage({key:"orderCreateData",data:{cart_ids:e},success(){f({url:"/addon/shop/pages/order/payment"})}})};return(e,t)=>{const o=_,f=g,C=v,j=m,N=h(k("u-popup"),ee),I=h(k("u-icon"),$),L=h(k("u--image"),T),V=O,R=h(k("u-loading-page"),J),q=h(k("tabbar"),D);return l(),a(C,{class:"min-h-screen"},{default:s((()=>[pe.value.length?(l(),a(C,{key:0,class:x(["mescroll-box bg-[#F4F6F8]",{cart:r(te).cart.control&&"cart"===r(te).cart.event,detail:!(r(te).cart.control&&"cart"===r(te).cart.event)}])},{default:s((()=>[c(Y,{ref:"mescrollRef",down:{use:!1},onInit:r(X),onUp:de},{default:s((()=>{var e,_,g,v,m,h;return[r(te).search.control?(l(),a(C,{key:0,class:"search-box z-10 bg-[#fff] fixed top-0 left-0 right-0"},{default:s((()=>[c(o,{class:"search-ipt text-sm",type:"text",modelValue:r(se),"onUpdate:modelValue":t[0]||(t[0]=e=>i(se)?se.value=e:se=e),placeholder:r(te).search.title},null,8,["modelValue","placeholder"]),c(C,{class:"flex items-center h-[70rpx] absolute right-[48rpx] top-[18rpx] z-2"},{default:s((()=>[c(f,{class:"iconfont iconxiazai17 text-[30rpx]",onClick:S(ve,["stop"])},null,8,["onClick"])])),_:1})])),_:1})):d("v-if",!0),c(C,{class:x(["tabs-box z-2 fixed left-0 bg-[#fff] bottom-[50px] top-0",{"!top-[106rpx]":r(te).search.control,"pb-[98rpx]":r(te).cart.control&&"cart"===r(te).cart.event}])},{default:s((()=>[c(j,{"scroll-y":!0,height:"100%"},{default:s((()=>[c(C,null,{default:s((()=>[(l(!0),u(p,null,n(pe.value,((e,t)=>(l(),a(C,{class:x(["tab-item truncate",{"tab-item-active":t==fe.value}]),key:e.site_id,onClick:o=>((e,t)=>{fe.value=e,t.child_list&&t.child_list.length?ge(0,t.child_list[0]):(le=t.category_id,Z().resetUpScroll())})(t,e)},{default:s((()=>[c(C,{class:"text-box"},{default:s((()=>[b(y(e.category_name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["class"]),(null==(e=pe.value[fe.value])?void 0:e.child_list)&&(null==(_=pe.value[fe.value])?void 0:_.child_list.length)?(l(),a(C,{key:1,class:x(["flex justify-center items-center h-[92rpx] px-[24rpx] py-[20rpx] z-10 bg-white fixed left-[182rpx] right-0 box-border top-0",{"!top-[106rpx]":r(te).search.control}])},{default:s((()=>[r(ie)?(l(),u(p,{key:1},[c(C,{class:"flex-1 h-[48rpx] text-[22rpx] text-[#E2E2E2] px-[24rpx] leading-[48rpx]"},{default:s((()=>[b("全部分类")])),_:1}),c(f,{class:"iconfont iconjiantoushang transform text-[30rpx] rotate-180",onClick:t[2]||(t[2]=e=>i(ie)?ie.value=!1:ie=!1)})],64)):(l(),u(p,{key:0},[c(j,{"scroll-x":!0,"scroll-with-animation":"","scroll-into-view":"id"+(_e.value?_e.value-1:0),class:"flex-1 scroll-Y box-border px-[24rpx] bg-white"},{default:s((()=>[c(C,{class:"flex items-center h-[48rpx]"},{default:s((()=>{var e;return[(l(!0),u(p,null,n(null==(e=pe.value[fe.value])?void 0:e.child_list,((e,t)=>(l(),a(f,{class:x(["flex-shrink-0 px-[24rpx] h-[48rpx] text-[22rpx] leading-[48rpx] border-[2rpx] box-solid rounded-[24rpx] box-border",{"sub-tab-active text-color border-color":t===_e.value,"border-[#E2E2E2]":t!=_e.value,"ml-[24rpx]":t}]),key:pe.value[fe.value].category_id,id:"id"+t,onClick:o=>ge(t,e)},{default:s((()=>[b(y(e.category_name),1)])),_:2},1032,["class","id","onClick"])))),128))]})),_:1})])),_:1},8,["scroll-into-view"]),c(f,{class:"iconfont iconjiantoushang text-[30rpx]",onClick:t[1]||(t[1]=e=>i(ie)?ie.value=!0:ie=!0)}),d(' @click="showAllTabs()" ')],64))])),_:1},8,["class"])):d("v-if",!0),c(C,{class:x(["labelPopup",{active:r(te).search.control}])},{default:s((()=>[c(N,{show:r(ie),mode:"top",onClose:t[3]||(t[3]=e=>i(ie)?ie.value=!1:ie=!1)},{default:s((()=>[c(C,{class:"flex flex-wrap py-[24rpx]"},{default:s((()=>{var e;return[(l(!0),u(p,null,n(null==(e=pe.value[fe.value])?void 0:e.child_list,((e,t)=>(l(),a(f,{class:x(["flex-shrink-0 w-[160rpx] ml-[22rpx] mb-[24rpx] text-center h-[48rpx] text-[22rpx] leading-[48rpx] border-[2rpx] box-solid rounded-[24rpx] box-border",{"sub-tab-active text-color border-color":t===_e.value,"border-[#E2E2E2]":t!=_e.value}]),key:pe.value[fe.value].category_id,onClick:o=>ge(t,e)},{default:s((()=>[b(y(e.category_name),1)])),_:2},1032,["class","onClick"])))),128))]})),_:1})])),_:1},8,["show"])])),_:1},8,["class"]),c(C,{class:x(["flex justify-center flex-wrap pl-[182rpx] pt-[20rpx]",{"!pt-[218rpx]":r(te).search.control&&(null==(g=pe.value[fe.value])?void 0:g.child_list)&&(null==(v=pe.value[fe.value])?void 0:v.child_list.length),"pt-[126rpx]":r(te).search.control&&(!pe.value[fe.value].child_list||!pe.value[fe.value].child_list.length),"pt-[112rpx]":(null==(m=pe.value[fe.value])?void 0:m.child_list)&&(null==(h=pe.value[fe.value])?void 0:h.child_list.length)&&!r(te).search.control}])},{default:s((()=>[(l(!0),u(p,null,n(r(ae),((e,t)=>(l(),a(C,{key:e.goods_id,class:x(["w-[536rpx] box-border bg-white w-full flex mx-[16rpx] px-[24rpx] py-[20rpx] rounded-[12rpx]",{"mt-[16rpx]":t}]),onClick:S((t=>ue(e.goods_id)),["stop"])},{default:s((()=>[c(C,{class:"overflow-hidden mr-[8rpx] rounded-md"},{default:s((()=>[c(L,{width:"168rpx",height:"168rpx",src:r(w)(e.goods_cover_thumb_mid?e.goods_cover_thumb_mid:""),model:"aspectFill"},{error:s((()=>[c(I,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"])])),_:2},1024),c(C,{class:"flex flex-1 flex-wrap"},{default:s((()=>[c(C,{class:"w-[316rpx] max-h-[72rpx] text-[26rpx] font-500 leading-[36rpx] multi-hidden"},{default:s((()=>[b(y(e.goods_name),1)])),_:2},1024),c(C,{class:"w-[316rpx] flex self-end items-end justify-between"},{default:s((()=>[c(f,{class:"text-[var(--price-text-color)] price-font"},{default:s((()=>[c(f,{class:"text-[20rpx]"},{default:s((()=>[b("￥")])),_:1}),c(f,{class:"text-[28rpx] mr-[10rpx]"},{default:s((()=>[b(y(e.goodsSku.price),1)])),_:2},1024)])),_:2},1024),""===e.goodsSku.sku_spec_format&&r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id]&&r(te).cart.control&&"cart"===r(te).cart.event?(l(),a(C,{key:0,class:"flex items-center"},{default:s((()=>[c(f,{class:"text-[44rpx] text-color iconfont iconjianhao",onClick:S((t=>{return o=r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id],void F.reduce({id:o.id,goods_id:o.goods_id,sku_id:o.sku_id,stock:o.stock,sale_price:o.sale_price,num:o.num});var o}),["stop"])},null,8,["onClick"]),c(f,{class:"text-[#333] fext-[23rpx] font-500 mx-[16rpx]"},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id].num),1)])),_:2},1024),c(f,{class:"text-[44rpx] text-color iconfont iconjiahao2fill",onClick:S((t=>{return o=r(U)["goods_"+e.goods_id]["sku_"+e.goodsSku.sku_id],void F.increase({id:o.id,goods_id:o.goods_id,sku_id:o.sku_id,stock:o.stock,sale_price:o.sale_price,num:o.num});var o}),["stop"])},null,8,["onClick"])])),_:2},1024)):(l(),u(p,{key:1},[r(te).cart.control&&"style-1"===r(te).cart.style?(l(),a(C,{key:0,class:"h-[44rpx] relative"},{default:s((()=>[c(C,{id:"itemCart"+t,class:"text-[#fff] bg-color h-[44rpx] text-[28rpx] px-[10px] leading-[44rpx] rounded-[22rpx]",onClick:S((o=>he(e.goodsSku,"itemCart"+t)),["stop"])},{default:s((()=>[b(y(r(te).cart.text),1)])),_:2},1032,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(te).cart.control&&"style-2"===r(te).cart.style?(l(),a(C,{key:1,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(f,{id:"itemCart"+t,class:"text-color iconfont iconjiahao1 text-[44rpx]",onClick:S((o=>he(e.goodsSku,"itemCart"+t)),["stop"])},null,8,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(te).cart.control&&"style-3"===r(te).cart.style?(l(),a(C,{key:2,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(f,{id:"itemCart"+t,class:"text-color iconfont icongouwuche !text-[44rpx]",onClick:S((o=>he(e.goodsSku,"itemCart"+t)),["stop"])},null,8,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0),r(te).cart.control&&"style-4"===r(te).cart.style?(l(),a(C,{key:3,class:"w-[44rpx] h-[44rpx] relative"},{default:s((()=>[c(C,{id:"itemCart"+t,class:"flex items-center justify-center text-[#fff] bg-color h-[44rpx] w-[44rpx] rounded-[22rpx] text-center",onClick:S((o=>he(e.goodsSku,"itemCart"+t)),["stop"])},{default:s((()=>[c(f,{class:"iconfont icongouwuche !text-[30rpx]"})])),_:2},1032,["id","onClick"]),r(U)["goods_"+e.goods_id]&&r(U)["goods_"+e.goods_id].totalNum?(l(),a(C,{key:0,class:x(["absolute right-[-10rpx] top-[-4rpx] transform scale-75 rounded-[28rpx] h-[28rpx] min-w-[28rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(U)["goods_"+e.goods_id].totalNum>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(U)["goods_"+e.goods_id].totalNum),1)])),_:2},1032,["class"])):d("v-if",!0)])),_:2},1024)):d("v-if",!0)],64))])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),r(ae).length||r(re)||!r(ce)?d("v-if",!0):(l(),a(H,{key:0,option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"]))])),_:1},8,["class"]),c(oe,{ref_key:"cartRef",ref:me},null,512)]})),_:1},8,["onInit"]),r(te).cart.control&&"cart"===r(te).cart.event?(l(),a(C,{key:0,class:"bg-[#fff] z-2 flex justify-between items-center fixed left-0 right-0 bottom-[50px] box-solid px-[24rpx] pt-[10rpx] pb-[18rpx]"},{default:s((()=>[c(C,{class:"flex items-center"},{default:s((()=>[c(C,{class:"w-[70rpx] h-[70rpx] mr-[27rpx] relative"},{default:s((()=>[c(C,{id:"animation-end",class:"w-[70rpx] h-[70rpx] rounded-[35rpx] bg-[var(--primary-color)] text-center leading-[70rpx]",onClick:S(ke,["stop"])},{default:s((()=>[c(f,{class:"icongouwuche1 iconfont text-[#fff]"})])),_:1},8,["onClick"]),r(M)?(l(),a(C,{key:0,class:x(["absolute left-[50rpx] top-[-10rpx] rounded-[28rpx] h-[28rpx] min-w-[25rpx] text-center leading-[30rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",r(M)>9?"px-[10rpx]":""])},{default:s((()=>[b(y(r(M)>99?"99+":r(M)),1)])),_:1},8,["class"])):d("v-if",!0)])),_:1}),c(f,{class:"text-[32rpx] font-500 text-[#333]"},{default:s((()=>[b("总计：")])),_:1}),c(f,{class:"text-[32rpx] font-500 text-[var(--price-text-color)] price-font"},{default:s((()=>[b("￥"+y(r(A)),1)])),_:1})])),_:1}),c(V,{class:"w-[180rpx] h-[70rpx] text-[30rpx] leading-[70rpx] text-[#fff] m-0 rounded-full bg-color remove-border",shape:"circle",onClick:be},{default:s((()=>[b("去结算")])),_:1})])),_:1})):d("v-if",!0)])),_:1},8,["class"])):d("v-if",!0),z(c(C,{style:B(ne.value),class:"fixed z-999 flex items-center justify-center text-[#fff] bg-color h-[44rpx] w-[44rpx] rounded-[22rpx] text-center"},{default:s((()=>[c(f,{class:"iconfont icongouwuche !text-[30rpx]"})])),_:1},8,["style"]),[[E,ne.value]]),pe.value.length||r(re)?d("v-if",!0):(l(),a(C,{key:1,class:"flex justify-center w-[100%]"},{default:s((()=>[c(H,{option:{icon:r(w)("static/resource/images/empty.png")}},null,8,["option"])])),_:1})),c(R,{"bg-color":"rgb(248,248,248)",loading:r(re),fontSize:"16",color:"#333"},null,8,["loading"]),c(q,{addon:"shop"})])),_:1})}}}),[["__scopeId","data-v-b51d06dd"]]),se=K(e({__name:"category",setup(e){const o=W(),r=t({}),c=t(0);return U((e=>{c.value=e.category_id||0,G().then((e=>{r.value=e.data}))})),M((()=>{o.getList()})),(e,t)=>{const o=v;return l(),a(o,null,{default:s((()=>[1===r.value.level&&"style-1"===r.value.template?(l(),a(le,{key:0,class:"category",categoryId:c.value,config:r.value},null,8,["categoryId","config"])):d("v-if",!0),2===r.value.level&&"style-1"===r.value.template?(l(),a(te,{key:1,categoryId:c.value,config:r.value},null,8,["categoryId","config"])):d("v-if",!0),2===r.value.level&&"style-2"===r.value.template?(l(),a(ae,{key:2,class:"category",categoryId:c.value,config:r.value},null,8,["categoryId","config"])):d("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-90b808ab"]]);export{se as default};
