import{d as e,l as t,r as a,H as r,bO as l,bP as s,o as p,c as x,w as c,T as i,b as n,n as o,u as d,x as u,y as f,U as g,ae as m,f as b,a as _,j as h,M as v,E as y,F as k,g as w,i as F,N as j,O as C}from"./index-7c3a221b.js";import{_ as E}from"./loading-page.vue_vue_type_script_setup_true_lang.670312d0.js";import{t as I}from"./topTabbar.7ca2ef58.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.2d721490.js";import"./u-transition.2636624c.js";const R=z(e({__name:"point",setup(e){I().setTopTabbarParam({title:"我的积分"});let z={};const R=t((()=>({backgroundImage:"url("+j("static/resource/images/member/point/point_bg.png")+") ",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"bottom"}))),S=t((()=>Object.keys(z).length?C(Number(z.height))+C(z.top)+50+"rpx;":"50rpx")),T=a({}),B=a([]),O=a(!0);r((async()=>{let e=await l(),t=await s();T.value=e.data,B.value=t.data,O.value=!1}));const P=(e="",t={})=>{_({url:e,param:t})};return(e,t)=>{const a=h,r=v,l=y,s=k,_=w(F("loading-page"),E);return p(),x(a,{class:"bg-[var(--page-bg-color)] min-h-[100vh]",style:o(e.themeColor())},{default:c((()=>[O.value?b("v-if",!0):(p(),i(g,{key:0},[n(a,{class:"w-full bg-[var(--page-bg-color)]"},{default:c((()=>[n(a,{class:"pb-[210rpx] relative",style:o(d(R))},{default:c((()=>[n(a,{class:"text-[70rpx] leading-[90rpx] text-[#fff] pl-[60rpx] font-500 pt-[77rpx] price-font"},{default:c((()=>[u(f(T.value.point||0),1)])),_:1}),n(a,{class:"flex items-center pl-[60rpx]"},{default:c((()=>[n(r,{class:"h-[36rpx] w-[36rpx] -mb-[4rpx]",src:d(j)("static/resource/images/member/point/icon.png"),mode:"heightFix"},null,8,["src"]),n(a,{class:"text-[26rpx] leading-[36rpx] text-[#fff] ml-[10rpx]"},{default:c((()=>[u("我的积分")])),_:1})])),_:1}),n(a,{class:"side-tab",style:o({top:d(S)}),onClick:t[0]||(t[0]=e=>P("/app/pages/member/point_detail"))},{default:c((()=>[n(l,{class:"nc-iconfont nc-icon-jifenduihuanV6xx1 icon"}),n(l,{class:"desc"},{default:c((()=>[u("积分明细")])),_:1})])),_:1},8,["style"])])),_:1},8,["style"]),n(a,{class:"sidebar-margin flex flex-col mt-[-178rpx] relative"},{default:c((()=>[n(a,{class:"w-[322rpx] h-[80rpx] text-[30rpx] text-[#333] font-500 box-border pl-[30rpx] pt-[var(--pad-top-m)] rounded-tl-[var(--rounded-big)] overflow-hidden mb-[-2rpx]",style:o({backgroundImage:"url("+d(j)("static/resource/images/member/point/top_bg.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:c((()=>[n(l,{class:"leading-[42rpx]"},{default:c((()=>[u("积分详情")])),_:1})])),_:1},8,["style"]),n(a,{class:"flex items-center px-[30rpx] rounded-[var(--rounded-big)] !rounded-tl-none bg-[#fff] h-[173rpx] box-border"},{default:c((()=>[n(a,{class:"w-[196rpx] flex-shrink-0 text-center"},{default:c((()=>[n(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:c((()=>[u(f(T.value.point_get||0),1)])),_:1}),n(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:c((()=>[u("累计积分")])),_:1})])),_:1}),n(a,{class:"w-[1rpx] h-[50rpx] flex-shrink-0 bg-[var(--temp-bg)] mx-[10rpx]"}),n(a,{class:"w-[196rpx] flex-shrink-0 text-center"},{default:c((()=>[n(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:c((()=>[u(f(T.value.use||0),1)])),_:1}),n(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:c((()=>[u("累计消费")])),_:1})])),_:1}),n(a,{class:"w-[1rpx] h-[50rpx] flex-shrink-0 bg-[var(--temp-bg)] mx-[10rpx]"}),n(a,{class:"w-[196rpx] min-w-[209.33rpx] flex-shrink-0 text-center"},{default:c((()=>[n(a,{class:"text-[#333] text-[42rpx] leading-[54rpx] price-font"},{default:c((()=>[u(f(T.value.point||0),1)])),_:1}),n(a,{class:"mt-[8rpx] text-[var(--text-color-light6)] text-[26rpx] leading-[36rpx] font-400"},{default:c((()=>[u("可用积分")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(a,{class:"mt-[var(--top-m)] sidebar-margin card-template"},{default:c((()=>[n(a,{class:"title"},{default:c((()=>[u("热门活动")])),_:1}),n(a,{class:"mt-[60rpx] flex justify-between"},{default:c((()=>[n(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:o({backgroundImage:"url("+d(j)("static/resource/images/member/point/activity_1.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:c((()=>[n(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(j)("static/resource/images/member/point/activity_icon_1.png"),mode:"heightFix"},null,8,["src"]),n(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:c((()=>[u("每日赚积分")])),_:1}),n(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:c((()=>[u("每日签到")])),_:1}),n(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:c((()=>[n(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:o({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[1]||(t[1]=e=>P("/app/pages/member/sign_in"))},{default:c((()=>[u("去签到")])),_:1},8,["style"])])),_:1})])),_:1},8,["style"]),n(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:o({backgroundImage:"url("+d(j)("static/resource/images/member/point/activity_2.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:c((()=>[n(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(j)("static/resource/images/member/point/activity_icon_2.png"),mode:"heightFix"},null,8,["src"]),n(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:c((()=>[u("积分当钱花")])),_:1}),n(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:c((()=>[u("抵扣部分费用")])),_:1}),n(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:c((()=>[n(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:o({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[2]||(t[2]=e=>P("/addon/shop/pages/point/index"))},{default:c((()=>[u("去兑换")])),_:1},8,["style"])])),_:1})])),_:1},8,["style"]),n(a,{class:"w-[200rpx] h-[253rpx] box-border pt-[69rpx] relative text-center",style:o({backgroundImage:"url("+d(j)("static/resource/images/member/point/activity_3.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})},{default:c((()=>[n(r,{class:"h-[78rpx] w-[78rpx] absolute left-[65rpx] top-[-21rpx]",src:d(j)("static/resource/images/member/point/icon.png"),mode:"heightFix"},null,8,["src"]),n(a,{class:"text-[28rpx] leading-[39rpx] text-[#333]"},{default:c((()=>[u("购物返积分")])),_:1}),n(a,{class:"mt-[10rpx] text-[24rpx] leading-[34rpx] text-[var(--text-color-light6)]"},{default:c((()=>[u("下单得积分")])),_:1}),n(a,{class:"w-full flex justify-center mt-[20rpx]"},{default:c((()=>[n(s,{class:"h-[54rpx] !m-0 rounded-[100rpx] text-[24rpx] flex-center !text-[#fff]",shape:"circle",style:o({background:"linear-gradient( 94deg, #FB7939 0%, #FE120E 99%), #EF000C"}),onClick:t[3]||(t[3]=e=>P("/addon/shop/pages/goods/list"))},{default:c((()=>[u("去逛逛")])),_:1},8,["style"])])),_:1})])),_:1},8,["style"])])),_:1})])),_:1}),B.value.length?(p(),x(a,{key:0,class:"mt-[var(--top-m)] sidebar-margin card-template"},{default:c((()=>[n(a,{class:"title"},{default:c((()=>[u("做任务领积分")])),_:1}),(p(!0),i(g,null,m(B.value,((e,t)=>(p(),x(a,{class:"flex items-center justify-between mt-[30rpx]"},{default:c((()=>[n(a,{class:"flex items-center flex-1"},{default:c((()=>[n(r,{class:"h-[80rpx] w-[80rpx]",src:d(j)(e.icon||""),mode:"heightFix"},null,8,["src"]),n(a,{class:"flex flex-col ml-[20rpx]"},{default:c((()=>[n(l,{class:"text-[28rpx]"},{default:c((()=>[u(f(e.title),1)])),_:2},1024),n(a,{class:"mt-[14rpx] text-[var(--text-color-light6)] text-[24rpx] font-400"},{default:c((()=>[u(f(e.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),e.button?(p(),x(s,{key:0,class:"h-[54rpx] !m-0 rounded-[40rpx] text-[24rpx] flex-center !text-[#fff] primary-btn-bg",shape:"circle",onClick:t=>P(e.button.wap_redirect)},{default:c((()=>[u(f(e.button.text),1)])),_:2},1032,["onClick"])):b("v-if",!0)])),_:2},1024)))),256))])),_:1})):b("v-if",!0)],64)),n(_,{loading:O.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-1b8501ee"]]);export{R as default};
