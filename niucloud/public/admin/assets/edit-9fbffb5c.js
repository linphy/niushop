import{d as Ee,bz as Oe,O as Te,f as Be,r as b,n as X,aw as C,s as me,cy as De,a0 as Re,h as d,c as w,e as a,w as s,a as r,t as c,u as t,N as l,F as Q,G as Z,I as g,B as v,i as A,y as ue,z as ce,A as _e,J as Pe,a8 as ge,cE as x,a3 as ze,U as Ie,a1 as Ne,as as qe,aE as Se,E as Le,cF as Ue,cG as $e,cH as Ae,ap as je,ai as Je,W as Me,cD as Fe,X as Ge,cC as We,Y as He,_ as Ye,p as Xe,g as Qe}from"./index-a2233f8b.js";/* empty css                *//* empty css                *//* empty css                  *//* empty css                        *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                        *//* empty css                  *//* empty css                     */import{_ as Ze}from"./index.vue_vue_type_script_setup_true_lang-be5440b6.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                */import{_ as Ke}from"./edit-addon-list-9a1c7a99.js";import{_ as et}from"./edit-graphic-nav-1fc51609.js";import{_ as tt}from"./edit-horz-blank-3dc62cdb.js";import{_ as ot}from"./edit-hot-area-ad913927.js";import{_ as lt}from"./edit-image-ads-c95a0210.js";import{_ as nt}from"./edit-member-info-fbfe5325.js";import{_ as at}from"./edit-notice-293e2556.js";import{_ as it}from"./edit-page-bebf1561.js";import{_ as st}from"./edit-rubik-cube-445e7542.js";import{_ as rt}from"./edit-text-326e6f3a.js";import{_ as pt}from"./edit-goods-list-5cff13d6.js";import{_ as dt}from"./edit-shop-search-8504bd2c.js";import{i as mt,a as ut,e as ct,b as _t}from"./diy-72bf2613.js";import{u as gt}from"./diy-f5a44c69.js";import{_ as vt}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                   *//* empty css                   *//* empty css                        *//* empty css                    *//* empty css                 *//* empty css                        */import"./sys-6f61a94e.js";import"./sortable.esm-be94e56d.js";import"./range-72edfd9a.js";import"./index-58cd4749.js";import"./index.vue_vue_type_style_index_0_lang-a6915b29.js";import"./attachment-181b3017.js";/* empty css                      *//* empty css                 *//* empty css               *//* empty css                    *//* empty css                         *//* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-416b0336.js";/* empty css                       *//* empty css                 *//* empty css                  */import"./category_default-03996666.js";import"./goods-b7f9d4bf.js";import"./goods-select-popup-ba8baf79.js";/* empty css                          */import"./goods_default-664bb559.js";const ft=z=>(Xe("data-v-b2fa9790"),z=z(),Qe(),z),bt={class:"main-container flex-1"},xt={class:"pl-[5px]"},ht={class:"text-white ml-[10px] mr-[20px] flex items-center"},yt={class:"mr-[5px]"},Ct={key:0},wt={class:"text-white mr-[10px] text-base"},kt=ft(()=>r("div",{class:"flex-1"},null,-1)),Vt={class:"full-container flex flex-row flex-1 bg-page"},Et={class:"component-list w-[290px]"},Ot={class:"flex flex-row flex-wrap"},Tt=["title","onClick"],Bt={class:"block text-base truncate"},Dt={class:"preview-wrap flex-1 relative mt-[20px]"},Rt={class:"diy-view-wrap w-[375px] shadow-lg mx-auto"},Pt={class:"text-base block text-center truncate cursor-pointer h-[64px] leading-[84px]"},zt={class:"preview-block relative"},It={class:"quick-action absolute text-center -right-[70px] top-[20px] w-[42px] rounded shadow-md"},Nt=["src"],qt={class:"preview-iframe w-[375px] pt-[20px] px-[20px]"},St={class:"font-bold text-xl mb-[40px]"},Lt={class:"mb-[20px] flex flex-col"},Ut={class:"mb-[10px]"},$t={class:"edit-attribute-wrap w-[400px]"},At={class:"card-header flex justify-between items-center"},jt={class:"title flex-1"},Jt={key:0,class:"tab-wrap flex rounded-[50px] bg-gray-100 text-[14px]"},Mt={class:"edit-component-wrap"},Ft={class:"edit-attr-item-wrap"},Gt={class:"mb-[10px]"},Wt={class:"text-sm text-gray-400"},Ht={key:1,class:"edit-attr-item-wrap"},Yt={class:"mb-[10px]"},Xt={class:"text-sm text-gray-400"},Qt=Ee({__name:"edit",setup(z){Oe("setLayout")("decorate");const e=gt(),m=Te(),K=Be();m.query.id=m.query.id||0,m.query.name=m.query.name||"",m.query.url=m.query.url||"",m.query.type=m.query.type||"",m.query.title=m.query.title||"",m.query.back=m.query.back||"/site/diy/list";const I=m.query.back,V=b(""),ee=b(""),N=b(""),E=b(""),j=b(""),q=b(!1),S=b(!1),te=b(0),oe=b(0),O=b([]),le=X([]),J=b(""),ne=b(le),ve=p=>{},T=X({id:e.id,name:e.name,title:e.global.title,value:JSON.stringify({global:C(e.global),value:C(e.value)})}),M=b(!0),fe=()=>{M.value?(location.href=`${location.origin}${I}`,K.push(I)):ge.confirm(l("leavePageTitleTips"),l("leavePageContentTips"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning",autofocus:!1}).then(()=>{location.href=`${location.origin}${I}`}).catch(()=>{})},ae=Object.assign({"./components/edit-addon-list.vue":Ke,"./components/edit-graphic-nav.vue":et,"./components/edit-horz-blank.vue":tt,"./components/edit-hot-area.vue":ot,"./components/edit-image-ads.vue":lt,"./components/edit-member-info.vue":nt,"./components/edit-notice.vue":at,"./components/edit-page.vue":it,"./components/edit-rubik-cube.vue":st,"./components/edit-text.vue":rt}),ie=Object.assign({"/src/addon/shop/views/diy/components/edit-goods-list.vue":pt,"/src/addon/shop/views/diy/components/edit-shop-search.vue":dt});ie&&Object.assign(ae,ie);const F={};for(const[p,o]of Object.entries(ae)){const i=p.split("/").pop().split(".")[0];F[i]=o.default}const L=X({}),be=p=>{ut({type:p,mode:"diy"}).then(o=>{for(const u in o.data)L[u]=o.data[u]})};me(()=>V.value,(p,o)=>{ee.value=o});const xe=p=>{if(e.value.length)ge.confirm(l("changeTemplatePageTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{if(p){let o=L[p].data;e.global=o.global,o.value.length&&(e.value=o.value)}else e.init();m.query.title&&(e.global.title=m.query.title)}).catch(()=>{V.value=ee.value});else{if(p){let o=L[p].data;e.global=o.global,o.value.length&&(e.value=o.value)}else e.init();m.query.title&&(e.global.title=m.query.title)}};me(()=>e,(p,o)=>{const u={id:p.id,name:p.name,title:p.global.title,value:JSON.stringify({global:C(p.global),value:C(p.value)})};e.postMessage(),M.value=JSON.stringify(u)==JSON.stringify(T)},{deep:!0}),mt({id:m.query.id,name:m.query.name,url:m.query.url,type:m.query.type,title:m.query.title}).then(async p=>{const o=p.data;if(e.init(),e.id=o.id||0,e.name=o.name,e.type=o.type,e.typeName=o.type_name,e.templateName=o.template,e.isDefault=o.is_default,e.pageMode=o.mode,o.value){const u=JSON.parse(o.value);e.global=u.global,u.value.length&&(e.value=u.value)}else e.global.title=o.title;T.id=e.id,T.name=e.name,T.title=e.global.title,T.value=JSON.stringify({global:C(e.global),value:C(e.value)}),O.value=o.component;for(const u in O.value){le.push(u);for(const i in O.value[u].list){const _=De(O.value[u].list[i]);_.id=e.generateRandom(),_.componentName=i,_.componentTitle=_.title,Object.assign(_,_.value),delete _.name,delete _.title,delete _.value,delete _.type,delete _.icon,e.components.push(_)}}if(o.addon_list){const u=Object.assign({"/src/addon/shop/views/diy/components/edit-goods-list.vue":()=>x(()=>import("./edit-goods-list-5cff13d6.js").then(i=>i._),["./edit-goods-list-5cff13d6.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./el-form-item-4ed993c7.js","./category_default-03996666.js","./goods-b7f9d4bf.js","./diy-f5a44c69.js","./goods-select-popup-ba8baf79.js","./goods_default-664bb559.js","./_plugin-vue_export-helper-c27b6911.js","./goods-select-popup-e39b8c9c.css","./el-loading-3e34cd81.css","./el-overlay-16555a66.css","./el-pagination-e1392652.css","./el-input-c9789fc1.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-scrollbar-3dec2e64.css","./el-popper-eb70a20a.css","./el-table-column-345618ba.css","./el-checkbox-e3bd3d96.css","./el-image-5875057d.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-cascader-panel-737e395b.css","./el-radio-ee15435e.css","./el-button-c10d780e.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-radio-group-cacb5b7d.css"],import.meta.url),"/src/addon/shop/views/diy/components/edit-shop-search.vue":()=>x(()=>import("./edit-shop-search-8504bd2c.js").then(i=>i._),["./edit-shop-search-8504bd2c.js","./index-a2233f8b.js","./index-5b0926df.css","./diy-f5a44c69.js"],import.meta.url),"/src/app/views/diy/components/edit-addon-list.vue":()=>x(()=>import("./edit-addon-list-9a1c7a99.js").then(i=>i._),["./edit-addon-list-9a1c7a99.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./el-icon-593dfdc2.css","./diy-f5a44c69.js","./sys-6f61a94e.js","./sortable.esm-be94e56d.js","./range-72edfd9a.js","./el-loading-3e34cd81.css","./el-overlay-16555a66.css","./el-table-column-345618ba.css","./el-checkbox-e3bd3d96.css","./el-tag-c7c1203f.css","./el-popper-eb70a20a.css","./el-scrollbar-3dec2e64.css","./el-image-5875057d.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-button-c10d780e.css"],import.meta.url),"/src/app/views/diy/components/edit-graphic-nav.vue":()=>x(()=>import("./edit-graphic-nav-1fc51609.js").then(i=>i._),["./edit-graphic-nav-1fc51609.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./el-icon-593dfdc2.css","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./el-form-item-4ed993c7.js","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-overlay-16555a66.css","./el-form-d10bb01f.css","./el-input-c9789fc1.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-scrollbar-3dec2e64.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-button-c10d780e.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./diy-72bf2613.js","./sortable.esm-be94e56d.js","./diy-f5a44c69.js","./range-72edfd9a.js","./edit-graphic-nav-51f0d514.css","./el-color-picker-346329a4.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-radio-group-cacb5b7d.css","./el-radio-ee15435e.css"],import.meta.url),"/src/app/views/diy/components/edit-horz-blank.vue":()=>x(()=>import("./edit-horz-blank-3dc62cdb.js").then(i=>i._),["./edit-horz-blank-3dc62cdb.js","./index-a2233f8b.js","./index-5b0926df.css","./el-form-item-4ed993c7.js","./el-tooltip-4ed993c7.js","./diy-f5a44c69.js","./edit-text-7fdc44bc.css","./el-form-d10bb01f.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-input-c9789fc1.css","./el-popper-eb70a20a.css"],import.meta.url),"/src/app/views/diy/components/edit-hot-area.vue":()=>x(()=>import("./edit-hot-area-ad913927.js").then(i=>i._),["./edit-hot-area-ad913927.js","./index-a2233f8b.js","./index-5b0926df.css","./el-form-item-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./el-icon-593dfdc2.css","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./diy-72bf2613.js","./el-overlay-16555a66.css","./el-button-c10d780e.css","./el-scrollbar-3dec2e64.css","./el-input-c9789fc1.css","./_plugin-vue_export-helper-c27b6911.js","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./el-tooltip-4ed993c7.js","./sys-6f61a94e.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./diy-f5a44c69.js","./edit-hot-area-4b8797f7.css"],import.meta.url),"/src/app/views/diy/components/edit-image-ads.vue":()=>x(()=>import("./edit-image-ads-c95a0210.js").then(i=>i._),["./edit-image-ads-c95a0210.js","./index-a2233f8b.js","./index-5b0926df.css","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./el-form-item-4ed993c7.js","./diy-72bf2613.js","./el-overlay-16555a66.css","./el-button-c10d780e.css","./el-scrollbar-3dec2e64.css","./el-input-c9789fc1.css","./el-icon-593dfdc2.css","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./el-tooltip-4ed993c7.js","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./sortable.esm-be94e56d.js","./diy-f5a44c69.js","./range-72edfd9a.js","./edit-image-ads-e5b63093.css"],import.meta.url),"/src/app/views/diy/components/edit-member-info.vue":()=>x(()=>import("./edit-member-info-fbfe5325.js").then(i=>i._),["./edit-member-info-fbfe5325.js","./index-a2233f8b.js","./index-5b0926df.css","./el-form-item-4ed993c7.js","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./el-icon-593dfdc2.css","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-overlay-16555a66.css","./el-form-d10bb01f.css","./el-input-c9789fc1.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-scrollbar-3dec2e64.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-button-c10d780e.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./diy-f5a44c69.js","./el-color-picker-346329a4.css"],import.meta.url),"/src/app/views/diy/components/edit-notice.vue":()=>x(()=>import("./edit-notice-293e2556.js").then(i=>i._),["./edit-notice-293e2556.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./el-form-item-4ed993c7.js","./diy-72bf2613.js","./el-overlay-16555a66.css","./el-button-c10d780e.css","./el-scrollbar-3dec2e64.css","./el-input-c9789fc1.css","./el-icon-593dfdc2.css","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./diy-f5a44c69.js","./edit-notice-7bad7832.css","./el-color-picker-346329a4.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-radio-group-cacb5b7d.css","./el-radio-ee15435e.css"],import.meta.url),"/src/app/views/diy/components/edit-page.vue":()=>x(()=>import("./edit-page-bebf1561.js").then(i=>i._),["./edit-page-bebf1561.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./el-form-item-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./el-icon-593dfdc2.css","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-overlay-16555a66.css","./el-form-d10bb01f.css","./el-input-c9789fc1.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-scrollbar-3dec2e64.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-button-c10d780e.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./diy-f5a44c69.js","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-color-picker-346329a4.css","./el-switch-b454e5d4.css"],import.meta.url),"/src/app/views/diy/components/edit-rubik-cube.vue":()=>x(()=>import("./edit-rubik-cube-445e7542.js").then(i=>i._),["./edit-rubik-cube-445e7542.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./el-form-item-4ed993c7.js","./diy-72bf2613.js","./el-overlay-16555a66.css","./el-button-c10d780e.css","./el-scrollbar-3dec2e64.css","./el-input-c9789fc1.css","./el-icon-593dfdc2.css","./index-58cd4749.js","./index.vue_vue_type_style_index_0_lang-a6915b29.js","./attachment-181b3017.js","./index.vue_vue_type_script_setup_true_lang-be5440b6.js","./sys-6f61a94e.js","./_plugin-vue_export-helper-c27b6911.js","./attachment-24135a86.css","./el-loading-3e34cd81.css","./el-image-viewer-fff43739.css","./el-form-d10bb01f.css","./el-tag-c7c1203f.css","./el-option-a5edd981.css","./el-select-5775f10f.css","./el-popper-eb70a20a.css","./el-pagination-e1392652.css","./el-checkbox-e3bd3d96.css","./el-empty-80d6f4dc.css","./el-image-5875057d.css","./el-col-6b49831e.css","./el-progress-e199f971.css","./el-dropdown-item-fcde02f4.css","./el-popover-9f471fc1.css","./index-7223a68e.css","./index-fbf980fe.css","./diy-f5a44c69.js","./edit-rubik-cube-0d3d7369.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css"],import.meta.url),"/src/app/views/diy/components/edit-text.vue":()=>x(()=>import("./edit-text-326e6f3a.js").then(i=>i._),["./edit-text-326e6f3a.js","./index-a2233f8b.js","./index-5b0926df.css","./el-tooltip-4ed993c7.js","./index.vue_vue_type_script_setup_true_lang-416b0336.js","./el-form-item-4ed993c7.js","./diy-72bf2613.js","./el-overlay-16555a66.css","./el-button-c10d780e.css","./el-scrollbar-3dec2e64.css","./el-input-c9789fc1.css","./el-icon-593dfdc2.css","./diy-f5a44c69.js","./edit-text-7fdc44bc.css","./el-switch-b454e5d4.css","./el-color-picker-346329a4.css","./el-slider-9827b981.css","./el-input-number-74c955e5.css","./el-popper-eb70a20a.css","./el-radio-group-cacb5b7d.css","./el-radio-ee15435e.css","./el-form-d10bb01f.css"],import.meta.url)});for(let i=0;i<o.addon_list.length;i++){const _=o.addon_list[i];for(const[G,k]of Object.entries(u)){const D=G.split("/"),y=D[2];if(_.key==y){const W=D[D.length-1].replace(".vue",""),H=await k();F[W]=H.default}}}}be(o.type),E.value=o.domain_url.wap_domain,N.value=o.domain_url.wap_url,J.value=o.page,se()}),window.addEventListener("message",p=>{try{const o=JSON.parse(p.data);if(!o.type)return;switch(o.type){case"appOnLaunch":case"appOnReady":S.value=!1,q.value=!0;let u=new Date().getTime();oe.value=u-te.value;break;case"init":e.load=!0,e.postMessage();break;case"change":e.changeCurrentIndex(o.index,o.component);break;case"data":e.changeCurrentIndex(o.index,o.component),e.global=o.global,e.value=o.value;break}}catch(o){console.log("后台接受数据错误",o)}},!1);const he=()=>{if(E.value.trim().length==0){ze({type:"warning",message:`${l("wapDomainPlaceholder")}`});return}N.value=E.value+"/wap",se(),Ie.set({key:"wap_domain",data:N.value}),q.value=!0,S.value=!1},se=()=>{j.value=`${N.value}${J.value}?mode=decorate`,te.value=new Date().getTime(),ye(),setTimeout(()=>{oe.value==0&&Ce()},1e3*2)},ye=()=>{const p=JSON.stringify({type:"appOnReady",message:"加载完成"});window.previewIframe&&window.previewIframe.contentWindow.postMessage(p,"*")},Ce=()=>{S.value=!0,q.value=!1,j.value=""},B=b(!1),re=p=>{if(!e.verify()||B.value)return;B.value=!0,e.templateName=V.value;let o={id:e.id,name:e.name,title:e.global.title,type:e.type,template:e.templateName,is_default:e.isDefault,is_change:M.value?0:1,value:JSON.stringify({global:C(e.global),value:C(e.value)})};(e.id?ct:_t)(o).then(i=>{B.value=!1,i.code==1&&(e.id?B.value=!1:location.href=`${location.origin}${I}`,p&&p(i.data.id))}).catch(()=>{B.value=!1})},we=()=>{re(p=>{p=e.id||p;const o=K.resolve({path:"/site/preview/wap",query:{page:J.value+"?id="+p}});window.open(o.href)})};return(p,o)=>{const u=Re("ArrowLeft"),i=Ne,_=qe,G=Se,k=Le,D=Ue,y=Ze,W=$e,H=Ae,Y=je,R=Je,ke=Me,U=Fe,f=Ge,h=We,pe=He,Ve=Ye;return d(),w("div",bt,[a(D,{class:"flex items-center h-[60px] bg-primary px-[20px]"},{default:s(()=>[r("div",{class:"text-white cursor-pointer flex items-center",onClick:fe},[a(i,{size:"14"},{default:s(()=>[a(u)]),_:1}),r("span",xt,c(t(l)("back")),1)]),r("div",ht,[r("span",yt," ｜ "+c(t(l)("decorating"))+"："+c(t(e).typeName),1)]),t(e).type&&t(e).type!="DIY_PAGE"?(d(),w("div",Ct,[r("span",wt,c(t(l)("templatePagePlaceholder")),1),a(G,{modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=n=>V.value=n),class:"w-[180px]",placeholder:t(l)("templatePagePlaceholder"),onChange:xe},{default:s(()=>[a(_,{label:t(l)("templatePageEmpty"),value:""},null,8,["label"]),(d(!0),w(Q,null,Z(L,(n,P)=>(d(),g(_,{label:n.title,value:P,key:P},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])):v("",!0),kt,a(k,{onClick:o[1]||(o[1]=n=>we())},{default:s(()=>[A(c(t(l)("preview")),1)]),_:1}),a(k,{onClick:o[2]||(o[2]=n=>re())},{default:s(()=>[A(c(t(l)("save")),1)]),_:1})]),_:1}),r("div",Vt,[r("div",Et,[a(Y,{class:"px-[10px]"},{default:s(()=>[a(H,{modelValue:ne.value,"onUpdate:modelValue":o[3]||(o[3]=n=>ne.value=n),onChange:ve},{default:s(()=>[(d(!0),w(Q,null,Z(O.value,(n,P)=>(d(),g(W,{key:P,title:n.title,name:P},{default:s(()=>[r("ul",Ot,[(d(!0),w(Q,null,Z(n.list,($,de)=>(d(),w("li",{key:de,class:"w-2/6 text-center cursor-pointer h-[75px]",title:$.title,onClick:Kt=>t(e).addComponent(de,$)},[a(y,{name:$.icon,size:"23px"},null,8,["name"]),r("span",Bt,c($.title),1)],8,Tt))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),r("div",Dt,[a(Y,null,{default:s(()=>[a(k,{class:"page-btn absolute right-[20px]",onClick:o[4]||(o[4]=n=>t(e).changeCurrentIndex(-99))},{default:s(()=>[A(c(t(l)("pageSet")),1)]),_:1}),r("div",Rt,[r("div",{class:"preview-head bg-no-repeat bg-center bg-cover",onClick:o[5]||(o[5]=n=>t(e).changeCurrentIndex(-99))},[r("span",Pt,c(t(e).global.title),1)]),r("div",zt,[r("ul",It,[a(R,{effect:"light",content:t(l)("moveUpComponent"),placement:"right"},{default:s(()=>[a(y,{name:"iconfont-iconjiantoushang",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:t(e).moveUpComponent},null,8,["onClick"])]),_:1},8,["content"]),a(R,{effect:"light",content:t(l)("moveDownComponent"),placement:"right"},{default:s(()=>[a(y,{name:"iconfont-iconjiantouxia",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:t(e).moveDownComponent},null,8,["onClick"])]),_:1},8,["content"]),a(R,{effect:"light",content:t(l)("copyComponent"),placement:"right"},{default:s(()=>[a(y,{name:"iconfont-iconcopy-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:t(e).copyComponent},null,8,["onClick"])]),_:1},8,["content"]),a(R,{effect:"light",content:t(l)("delComponent"),placement:"right"},{default:s(()=>[a(y,{name:"iconfont-icondelete-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:t(e).delComponent},null,8,["onClick"])]),_:1},8,["content"]),a(R,{effect:"light",content:t(l)("resetComponent"),placement:"right"},{default:s(()=>[a(y,{name:"iconfont-iconloader-line",size:"20px",class:"block cursor-pointer leading-[40px]",onClick:t(e).resetComponent},null,8,["onClick"])]),_:1},8,["content"])]),ue(r("iframe",{id:"previewIframe",src:j.value,frameborder:"0",class:"preview-iframe w-[375px]"},null,8,Nt),[[ce,q.value]]),ue(r("div",qt,[r("div",St,c(t(l)("developTitle")),1),r("div",Lt,[r("text",Ut,c(t(l)("wapDomain")),1),a(ke,{modelValue:E.value,"onUpdate:modelValue":o[6]||(o[6]=n=>E.value=n),placeholder:t(l)("wapDomainPlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),a(k,{type:"primary",onClick:he},{default:s(()=>[A(c(t(l)("confirm")),1)]),_:1})],512),[[ce,S.value]])])])]),_:1})]),r("div",$t,[a(Y,null,{default:s(()=>[a(Ve,{class:"box-card",shadow:"never"},{header:s(()=>[r("div",At,[r("span",jt,c(t(e).currentIndex==-99?t(l)("pageSet"):t(e).editComponent.componentTitle),1),t(e).currentComponent?(d(),w("div",Jt,[r("span",{class:_e(["cursor-pointer rounded-[50px] py-[5px] px-[15px]",{"bg-primary text-white":t(e).editTab=="content"}]),onClick:o[7]||(o[7]=n=>t(e).editTab="content")},c(t(l)("tabEditContent")),3),r("span",{class:_e(["cursor-pointer rounded-[50px] py-[5px] px-[15px]",{"bg-primary text-white":t(e).editTab=="style"}]),onClick:o[8]||(o[8]=n=>t(e).editTab="style")},c(t(l)("tabEditStyle")),3)])):v("",!0)])]),default:s(()=>[r("div",Mt,[t(e).currentComponent?(d(),g(Pe(F[t(e).currentComponent]),{key:0,value:t(e).value[t(e).currentIndex]},{style:s(()=>[r("div",Ft,[r("h3",Gt,c(t(l)("componentStyleTitle")),1),a(pe,{"label-width":"80px",class:"px-[10px]"},{default:s(()=>[t(e).editComponent.ignore.indexOf("pageBgColor")==-1?(d(),g(f,{key:0,label:t(l)("bottomBgColor"),class:"display-block"},{default:s(()=>[a(U,{modelValue:t(e).editComponent.pageBgColor,"onUpdate:modelValue":o[9]||(o[9]=n=>t(e).editComponent.pageBgColor=n),"show-alpha":"",predefine:t(e).predefineColors},null,8,["modelValue","predefine"]),r("div",Wt,c(t(l)("bottomBgTips")),1)]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("componentBgColor")==-1?(d(),g(f,{key:1,label:t(l)("componentBgColor")},{default:s(()=>[a(U,{modelValue:t(e).editComponent.componentBgColor,"onUpdate:modelValue":o[10]||(o[10]=n=>t(e).editComponent.componentBgColor=n),"show-alpha":"",predefine:t(e).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginTop")==-1?(d(),g(f,{key:2,label:t(l)("marginTop")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.top,"onUpdate:modelValue":o[11]||(o[11]=n=>t(e).editComponent.margin.top=n),"show-input":"",size:"small",min:0,class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginBottom")==-1?(d(),g(f,{key:3,label:t(l)("marginBottom")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.bottom,"onUpdate:modelValue":o[12]||(o[12]=n=>t(e).editComponent.margin.bottom=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginBoth")==-1?(d(),g(f,{key:4,label:t(l)("marginBoth")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.both,"onUpdate:modelValue":o[13]||(o[13]=n=>t(e).editComponent.margin.both=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("topRounded")==-1?(d(),g(f,{key:5,label:t(l)("topRounded")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.topRounded,"onUpdate:modelValue":o[14]||(o[14]=n=>t(e).editComponent.topRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("bottomRounded")==-1?(d(),g(f,{key:6,label:t(l)("bottomRounded")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.bottomRounded,"onUpdate:modelValue":o[15]||(o[15]=n=>t(e).editComponent.bottomRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0)]),_:1})])]),_:1},8,["value"])):(d(),w("div",Ht,[r("h3",Yt,c(t(l)("componentStyleTitle")),1),a(pe,{"label-width":"80px",class:"px-[10px]"},{default:s(()=>[t(e).editComponent.ignore.indexOf("pageBgColor")==-1?(d(),g(f,{key:0,label:t(l)("bottomBgColor"),class:"display-block"},{default:s(()=>[a(U,{modelValue:t(e).editComponent.pageBgColor,"onUpdate:modelValue":o[16]||(o[16]=n=>t(e).editComponent.pageBgColor=n),"show-alpha":"",predefine:t(e).predefineColors},null,8,["modelValue","predefine"]),r("div",Xt,c(t(l)("bottomBgTips")),1)]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("componentBgColor")==-1?(d(),g(f,{key:1,label:t(l)("componentBgColor")},{default:s(()=>[a(U,{modelValue:t(e).editComponent.componentBgColor,"onUpdate:modelValue":o[17]||(o[17]=n=>t(e).editComponent.componentBgColor=n),"show-alpha":"",predefine:t(e).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginTop")==-1?(d(),g(f,{key:2,label:t(l)("marginTop")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.top,"onUpdate:modelValue":o[18]||(o[18]=n=>t(e).editComponent.margin.top=n),"show-input":"",size:"small",min:0,class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginBottom")==-1?(d(),g(f,{key:3,label:t(l)("marginBottom")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.bottom,"onUpdate:modelValue":o[19]||(o[19]=n=>t(e).editComponent.margin.bottom=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("marginBoth")==-1?(d(),g(f,{key:4,label:t(l)("marginBoth")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.margin.both,"onUpdate:modelValue":o[20]||(o[20]=n=>t(e).editComponent.margin.both=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider"},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("topRounded")==-1?(d(),g(f,{key:5,label:t(l)("topRounded")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.topRounded,"onUpdate:modelValue":o[21]||(o[21]=n=>t(e).editComponent.topRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0),t(e).editComponent.ignore.indexOf("bottomRounded")==-1?(d(),g(f,{key:6,label:t(l)("bottomRounded")},{default:s(()=>[a(h,{modelValue:t(e).editComponent.bottomRounded,"onUpdate:modelValue":o[22]||(o[22]=n=>t(e).editComponent.bottomRounded=n),"show-input":"",size:"small",class:"ml-[10px] horz-blank-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])):v("",!0)]),_:1})]))])]),_:1})]),_:1})])])])}}});const il=vt(Qt,[["__scopeId","data-v-b2fa9790"]]);export{il as default};
