import{d as U,r as p,n as k,q as C,N as o,h as g,I as V,w as s,a as I,e as n,i as y,t as w,u as t,y as P,cM as R,W as $,X as j,Y as q,E as O,aa as K,$ as L}from"./index-1d549745.js";/* empty css                   *//* empty css                   *//* empty css                  *//* empty css                     */import{_ as M}from"./index-c9bd49cf.js";/* empty css                 */import{e as S,f as T,h as W}from"./goods-af228f6a.js";const X={class:"dialog-footer"},le=U({__name:"brand-edit",emits:["complete"],setup(Y,{expose:h,emit:B}){const u=p(!1),d=p(!1),c=p(""),_={brand_id:"",brand_name:"",logo:"",desc:"",sort:""},a=k({..._}),b=p(),x=C(()=>({brand_name:[{required:!0,message:o("brandNamePlaceholder"),trigger:"blur"}]})),D=async i=>{if(d.value||!i)return;const e=a.brand_id?S:T;await i.validate(async r=>{r&&(d.value=!0,e(a).then(f=>{d.value=!1,u.value=!1,B("complete")}).catch(f=>{d.value=!1}))})};return h({showDialog:u,setFormData:async(i=null)=>{if(Object.assign(a,_),d.value=!0,i){const e=await(await W(i.brand_id)).data;c.value=o("updateBrand"),e&&Object.keys(a).forEach(r=>{e[r]!=null&&(a[r]=e[r])})}else c.value=o("addBrand");d.value=!1}}),(i,e)=>{const r=$,m=j,f=M,N=q,v=O,E=K,F=L;return g(),V(E,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=l=>u.value=l),title:c.value,width:"500px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:s(()=>[I("span",X,[n(v,{onClick:e[5]||(e[5]=l=>u.value=!1)},{default:s(()=>[y(w(t(o)("cancel")),1)]),_:1}),n(v,{type:"primary",loading:d.value,onClick:e[6]||(e[6]=l=>D(b.value))},{default:s(()=>[y(w(t(o)("confirm")),1)]),_:1},8,["loading"])])]),default:s(()=>[P((g(),V(N,{model:a,"label-width":"120px",ref_key:"formRef",ref:b,rules:t(x),class:"page-form"},{default:s(()=>[n(m,{label:t(o)("brandName"),prop:"brand_name"},{default:s(()=>[n(r,{modelValue:a.brand_name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.brand_name=l),clearable:"",placeholder:t(o)("brandNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(m,{label:t(o)("logo")},{default:s(()=>[n(f,{modelValue:a.logo,"onUpdate:modelValue":e[1]||(e[1]=l=>a.logo=l)},null,8,["modelValue"])]),_:1},8,["label"]),n(m,{label:t(o)("desc")},{default:s(()=>[n(r,{modelValue:a.desc,"onUpdate:modelValue":e[2]||(e[2]=l=>a.desc=l),type:"textarea",clearable:"",placeholder:t(o)("descPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(m,{label:t(o)("sort")},{default:s(()=>[n(r,{modelValue:a.sort,"onUpdate:modelValue":e[3]||(e[3]=l=>a.sort=l),clearable:"",placeholder:t(o)("sortPlaceholder"),class:"input-width",onKeyup:e[4]||(e[4]=l=>t(R)(l))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[F,d.value]])]),_:1},8,["modelValue","title"])}}});export{le as _};
