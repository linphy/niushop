import{d as F,r as f,l as T,M,k as l,h as y,m as V,w as r,a as h,e as i,i as P,t as w,u as o,J as q,c as S,F as j,B as O,Q as G,aw as R,G as I,D as L,H as $,E as H,V as J,L as Q}from"./index-a59af0dd.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  */import{T as m}from"./test-71dfb9c1.js";const z={class:"text-[12px] text-[#999] leading-[20px]"},A={class:"dialog-footer"},pe=F({__name:"pay-friendspay",emits:["complete"],setup(K,{expose:N,emit:b}){const u=f(!1),c=f(!0),_=f(null),g={type:"friendspay",app_id:"",config:{pay_explain_switch:0,pay_info_switch:1,pay_explain_title:"",pay_explain_content:"",pay_type_name:"",pay_page_name:"",pay_button_name:"",pay_leave_message:""},channel:"",status:0,is_default:0},e=T({...g}),v=f(),D=M(()=>({"config.pay_explain_title":[{required:!0,message:l("friendsPayTitlePlaceholder"),trigger:"blur"},{validator:(n,a,p)=>{e.config.pay_explain_switch==1&&a===""&&p(new Error(l("friendsPayTitlePlaceholder"))),p()},trigger:"blur"}],"config.pay_explain_content":[{required:!0,message:l("desContentPlaceholder"),trigger:"blur"},{validator:(n,a,p)=>{e.config.pay_explain_switch==1&&a===""&&p(new Error(l("desContentPlaceholder"))),p()},trigger:"blur"}],"config.pay_type_name":[{required:!0,message:l("friendsPayNamePlaceholder"),trigger:"blur"}],"config.pay_page_name":[{required:!0,message:l("helpNamePlaceholder"),trigger:"blur"}],"config.pay_button_name":[{required:!0,message:l("helpBtnPlaceholder"),trigger:"blur"}],"config.pay_leave_message":[{required:!0,message:l("remarkPlaceholder"),trigger:"blur"}]})),E=async n=>{c.value||!n||await n.validate(async a=>{a&&(b("complete",e),u.value=!1)})},k=()=>{Object.assign(e,g),_.value&&(Object.keys(e).forEach(n=>{_.value[n]!=null&&(e[n]=_.value[n])}),e.channel=_.value.redio_key.split("_")[0],e.status=Number(e.status)),b("complete",e),u.value=!1};return N({showDialog:u,setFormData:async(n=null)=>{_.value=G(n),c.value=!0,Object.assign(e,g),n&&(Object.keys(e).forEach(a=>{n[a]!=null&&(e[a]=n[a])}),e.channel=n.redio_key.split("_")[0],e.status=Number(e.status)),c.value=!1},enableVerify:()=>{let n=!0;return(e.config.pay_explain_switch==1&&m.empty(e.config.pay_explain_title)||e.config.pay_explain_switch==1&&m.empty(e.config.pay_explain_content)||m.empty(e.config.pay_type_name)||m.empty(e.config.pay_page_name)||m.empty(e.config.pay_button_name)||m.empty(e.config.pay_leave_message))&&(n=!1),n}}),(n,a)=>{const p=R,s=I,d=L,B=$,x=H,C=J,U=Q;return y(),V(C,{modelValue:u.value,"onUpdate:modelValue":a[10]||(a[10]=t=>u.value=t),title:e.config.pay_type_name?e.config.pay_type_name:o(l)("updateFriendsPay"),width:"550px","destroy-on-close":!0},{footer:r(()=>[h("span",A,[i(x,{onClick:a[8]||(a[8]=t=>k())},{default:r(()=>[P(w(o(l)("cancel")),1)]),_:1}),i(x,{type:"primary",loading:c.value,onClick:a[9]||(a[9]=t=>E(v.value))},{default:r(()=>[P(w(o(l)("confirm")),1)]),_:1},8,["loading"])])]),default:r(()=>[q((y(),V(B,{model:e,"label-width":"110px",ref_key:"formRef",ref:v,rules:o(D),class:"page-form"},{default:r(()=>[i(s,{label:o(l)("friendsPaySwitch")},{default:r(()=>[i(p,{modelValue:e.config.pay_explain_switch,"onUpdate:modelValue":a[0]||(a[0]=t=>e.config.pay_explain_switch=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),e.config.pay_explain_switch==1?(y(),S(j,{key:0},[i(s,{label:o(l)("friendsPayTitle"),prop:"config.pay_explain_title"},{default:r(()=>[i(d,{modelValue:e.config.pay_explain_title,"onUpdate:modelValue":a[1]||(a[1]=t=>e.config.pay_explain_title=t),modelModifiers:{trim:!0},placeholder:o(l)("friendsPayTitlePlaceholder"),class:"input-width",maxlength:"10","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(s,{label:o(l)("desContent"),prop:"config.pay_explain_content"},{default:r(()=>[i(d,{modelValue:e.config.pay_explain_content,"onUpdate:modelValue":a[2]||(a[2]=t=>e.config.pay_explain_content=t),modelModifiers:{trim:!0},placeholder:o(l)("desContentPlaceholder"),class:"input-width",type:"textarea",rows:"4",maxlength:"120","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):O("",!0),i(s,{label:o(l)("friendsPayGoodsSwitch")},{default:r(()=>[h("div",null,[i(p,{modelValue:e.config.pay_info_switch,"onUpdate:modelValue":a[3]||(a[3]=t=>e.config.pay_info_switch=t),"active-value":1,"inactive-value":0},null,8,["modelValue"]),h("div",z,w(o(l)("friendsPayGoodsSwitchTips")),1)])]),_:1},8,["label"]),i(s,{label:o(l)("friendsPayName"),prop:"config.pay_type_name"},{default:r(()=>[i(d,{modelValue:e.config.pay_type_name,"onUpdate:modelValue":a[4]||(a[4]=t=>e.config.pay_type_name=t),modelModifiers:{trim:!0},placeholder:o(l)("friendsPayNamePlaceholder"),class:"input-width",maxlength:"10","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(s,{label:o(l)("helpName"),prop:"config.pay_page_name"},{default:r(()=>[i(d,{modelValue:e.config.pay_page_name,"onUpdate:modelValue":a[5]||(a[5]=t=>e.config.pay_page_name=t),modelModifiers:{trim:!0},placeholder:o(l)("helpNamePlaceholder"),class:"input-width",maxlength:"10","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(s,{label:o(l)("helpBtn"),prop:"config.pay_button_name"},{default:r(()=>[i(d,{modelValue:e.config.pay_button_name,"onUpdate:modelValue":a[6]||(a[6]=t=>e.config.pay_button_name=t),modelModifiers:{trim:!0},placeholder:o(l)("helpBtnPlaceholder"),class:"input-width",maxlength:"10","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(s,{label:o(l)("remark"),prop:"config.pay_leave_message"},{default:r(()=>[i(d,{modelValue:e.config.pay_leave_message,"onUpdate:modelValue":a[7]||(a[7]=t=>e.config.pay_leave_message=t),modelModifiers:{trim:!0},placeholder:o(l)("remarkPlaceholder"),class:"input-width",type:"textarea",rows:"4",maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[U,c.value]])]),_:1},8,["modelValue","title"])}}});export{pe as default};
