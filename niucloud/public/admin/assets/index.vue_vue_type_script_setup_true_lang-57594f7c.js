import{_ as V}from"./index.vue_vue_type_style_index_0_lang-292103dc.js";import{d as b,r as n,M as k,aM as C,h as U,c as H,e as i,u as m,aU as x,b9 as D,F as $,z as c}from"./index-e4c6b343.js";const w=b({__name:"index",props:{modelValue:{type:String,default:""},mode:{type:String,default:"simple"},height:{type:Number,default:600}},emits:["update:modelValue","handleBlur"],setup(f,{emit:p}){const r=f,g=n(),l=n(null),s=n(null),o=k({get(){return r.modelValue},set(e){p("update:modelValue",e)}});let t=null;const u={};u.token=C();const _="/adminapi/".substr(-1)=="/"?"/adminapi/":"/adminapi//",h=n({debug:!1,UEDITOR_HOME_URL:"/admin/ueditor/",serverUrl:`${_}sys/ueditor`,serverHeaders:u,autoHeightEnabled:!1,initialFrameHeight:r.height,initialFrameWidth:"100%",toolbarCallback:function(e,a){switch(t=a,e){case"insertimage":return l.value.showDialog=!0,!0;case"insertvideo":return s.value.showDialog=!0,!0}}}),v=e=>{e.forEach(a=>{t==null||t.execCommand("insertHtml",`<img src="${c(a.url)}">`)})},y=e=>{t==null||t.execCommand("insertHtml",`<video src="${c(e.url)}">`)};return(e,a)=>{const d=V;return U(),H($,null,[i(d,{type:"image",ref_key:"imageRef",ref:l,limit:"",onConfirm:v},null,512),i(d,{type:"video",ref_key:"videoRef",ref:s,onConfirm:y},null,512),i(m(D),{modelValue:m(o),"onUpdate:modelValue":a[0]||(a[0]=R=>x(o)?o.value=R:null),config:h.value,editorDependencies:["ueditor.config.js","ueditor.all.js"],ref_key:"editorRef",ref:g},null,8,["modelValue","config","editorDependencies"])],64)}}});export{w as _};
