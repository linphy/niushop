import{d as U,k as n,an as P,h as b,c as D,J as w,a9 as x,u as o,a as f,b as S,t as u,e as l,w as i,m as g,i as _,B as V,aK as v,F as B,D as F,G as z,av as I,aa as N,ab as A,bk as R,H as j,b4 as G,b2 as O}from"./index-ac08d87d.js";/* empty css                        *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                *//* empty css                       *//* empty css                     *//* empty css                       *//* empty css                 *//* empty css                  */import"./el-form-item-4ed993c7.js";import{u as J}from"./diy-9e975008.js";const K={class:"content-wrap"},q={class:"edit-attr-item-wrap"},L={class:"mb-[10px]"},Q={class:"edit-attr-item-wrap"},X={class:"mb-[10px]"},Y={class:"style-wrap"},Z={class:"edit-attr-item-wrap"},ee={class:"mb-[10px]"},te=U({__name:"edit-form-time-scope",setup(oe,{expose:H}){const t=J();t.editComponent.ignore=["componentBgUrl"],t.editComponent.verify=r=>{const e={code:!0,message:""};let d=t.value[r].field.default.start.date,a=t.value[r].field.default.end.date;const p=new Date,m=String(p.getHours()).padStart(2,"0"),c=String(p.getMinutes()).padStart(2,"0");return t.editComponent.start.timeWay=="current"&&(d=`${m}:${c}`),t.editComponent.end.timeWay=="current"&&(a=`${m}:${c}`),t.editComponent.start.defaultControl&&d==""?(e.code=!1,e.message=n("startTimeTips"),e):t.editComponent.end.defaultControl&&a==""?(e.code=!1,e.message=n("endTimeTips"),e):(t.editComponent.start.defaultControl&&t.editComponent.end.defaultControl&&C(d)>C(a)&&(e.code=!1,e.message=n("startEndTimeTips")),e)},P(()=>{const r=new Date,e=String(r.getHours()).padStart(2,"0"),d=String(r.getMinutes()).padStart(2,"0");if(t.editComponent.field.default.start.date||(t.editComponent.field.default.start.date=`${e}:${d}`,t.editComponent.field.default.start.timestamp=C(`${e}:${d}`)),!t.editComponent.field.default.end.date){let a=new Date;a.setHours(r.getHours(),r.getMinutes()+10,0,0);const p=String(a.getHours()).padStart(2,"0"),m=String(a.getMinutes()).padStart(2,"0");t.editComponent.field.default.end.date=`${p}:${m}`,t.editComponent.field.default.end.timestamp=C(`${p}:${m}`)}});const $=r=>{t.editComponent.field.default.start.timestamp=C(r);const e=r.split(":"),d=new Date;d.setHours(parseInt(e[0]),parseInt(e[1]),0,0),d.setMinutes(d.getMinutes()+10);const a=`${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}`;t.editComponent.field.default.end.date=a,t.editComponent.field.default.end.timestamp=C(a)},k=()=>{let r=t.editComponent.field.default.start.date.split(":");return y(0,r[0])},M=r=>{let e=t.editComponent.field.default.start.date.split(":");return y(0,e[1])},y=(r,e)=>{const d=[];for(let a=r;a<e;a++)d.push(a);return d},C=r=>{let e=r.split(":"),d=0;return e[0]&&(d+=e[0]*60*60),e[1]&&(d+=e[1]*60),e[2]&&(d+=e[2]),d};return H({}),(r,e)=>{const d=F,a=z,p=I,m=N,c=A,T=R,h=j,W=G,E=O;return b(),D(B,null,[w(f("div",K,[S(r.$slots,"field"),f("div",q,[f("h3",L,u(o(n)("startTime")),1),l(h,{"label-width":"100px",class:"px-[10px]",onSubmit:e[4]||(e[4]=v(()=>{},["prevent"]))},{default:i(()=>[l(a,{label:o(n)("formPlaceholder")},{default:i(()=>[l(d,{modelValue:o(t).editComponent.start.placeholder,"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).editComponent.start.placeholder=s),modelModifiers:{trim:!0},placeholder:o(n)("formPlaceholderTips"),clearable:"",maxlength:"15","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(a,{label:o(n)("defaultValue")},{default:i(()=>[l(p,{modelValue:o(t).editComponent.start.defaultControl,"onUpdate:modelValue":e[1]||(e[1]=s=>o(t).editComponent.start.defaultControl=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(t).editComponent.start.defaultControl?(b(),g(a,{key:0},{default:i(()=>[l(c,{modelValue:o(t).editComponent.start.timeWay,"onUpdate:modelValue":e[2]||(e[2]=s=>o(t).editComponent.start.timeWay=s)},{default:i(()=>[l(m,{label:"current"},{default:i(()=>[_(u(o(n)("currentTime")),1)]),_:1}),l(m,{label:"diy"},{default:i(()=>[_(u(o(n)("diyTime")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})):V("",!0),o(t).editComponent.start.defaultControl&&o(t).editComponent.start.timeWay=="diy"?(b(),g(a,{key:1},{default:i(()=>[l(T,{modelValue:o(t).editComponent.field.default.start.date,"onUpdate:modelValue":e[3]||(e[3]=s=>o(t).editComponent.field.default.start.date=s),placeholder:o(n)("startTimePlaceholder"),format:"HH:mm","value-format":"HH:mm",onChange:$},null,8,["modelValue","placeholder"])]),_:1})):V("",!0)]),_:1})]),f("div",Q,[f("h3",X,u(o(n)("endTime")),1),l(h,{"label-width":"100px",class:"px-[10px]",onSubmit:e[9]||(e[9]=v(()=>{},["prevent"]))},{default:i(()=>[l(a,{label:o(n)("formPlaceholder")},{default:i(()=>[l(d,{modelValue:o(t).editComponent.end.placeholder,"onUpdate:modelValue":e[5]||(e[5]=s=>o(t).editComponent.end.placeholder=s),modelModifiers:{trim:!0},placeholder:o(n)("formPlaceholderTips"),clearable:"",maxlength:"15","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(a,{label:o(n)("defaultValue")},{default:i(()=>[l(p,{modelValue:o(t).editComponent.end.defaultControl,"onUpdate:modelValue":e[6]||(e[6]=s=>o(t).editComponent.end.defaultControl=s)},null,8,["modelValue"])]),_:1},8,["label"]),o(t).editComponent.end.defaultControl?(b(),g(a,{key:0},{default:i(()=>[l(c,{modelValue:o(t).editComponent.end.timeWay,"onUpdate:modelValue":e[7]||(e[7]=s=>o(t).editComponent.end.timeWay=s)},{default:i(()=>[l(m,{label:"current"},{default:i(()=>[_(u(o(n)("currentTime")),1)]),_:1}),l(m,{label:"diy"},{default:i(()=>[_(u(o(n)("diyTime")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})):V("",!0),o(t).editComponent.end.defaultControl&&o(t).editComponent.end.timeWay=="diy"?(b(),g(a,{key:1},{default:i(()=>[l(T,{"disabled-hours":k,"disabled-minutes":M,modelValue:o(t).editComponent.field.default.end.date,"onUpdate:modelValue":e[8]||(e[8]=s=>o(t).editComponent.field.default.end.date=s),placeholder:o(n)("endTimePlaceholder"),format:"HH:mm","value-format":"HH:mm"},null,8,["modelValue","placeholder"])]),_:1})):V("",!0)]),_:1})]),S(r.$slots,"other")],512),[[x,o(t).editTab=="content"]]),w(f("div",Y,[f("div",Z,[f("h3",ee,u(o(n)("textStyle")),1),l(h,{"label-width":"80px",class:"px-[10px]"},{default:i(()=>[l(a,{label:o(n)("textFontSize")},{default:i(()=>[l(W,{modelValue:o(t).editComponent.fontSize,"onUpdate:modelValue":e[10]||(e[10]=s=>o(t).editComponent.fontSize=s),"show-input":"",size:"small",class:"ml-[10px] diy-nav-slider",min:12,max:18},null,8,["modelValue"])]),_:1},8,["label"]),l(a,{label:o(n)("textFontWeight")},{default:i(()=>[l(c,{modelValue:o(t).editComponent.fontWeight,"onUpdate:modelValue":e[11]||(e[11]=s=>o(t).editComponent.fontWeight=s)},{default:i(()=>[l(m,{label:"normal"},{default:i(()=>[_(u(o(n)("fontWeightNormal")),1)]),_:1}),l(m,{label:"bold"},{default:i(()=>[_(u(o(n)("fontWeightBold")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(a,{label:o(n)("textColor")},{default:i(()=>[l(E,{modelValue:o(t).editComponent.textColor,"onUpdate:modelValue":e[12]||(e[12]=s=>o(t).editComponent.textColor=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),S(r.$slots,"style")],512),[[x,o(t).editTab=="style"]])],64)}}}),Ve=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{Ve as _};
