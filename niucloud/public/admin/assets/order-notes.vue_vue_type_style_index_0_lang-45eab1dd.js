import{d as E,r as u,n as F,q as B,N as n,h as v,I as g,w as s,a as C,e as m,i as y,t as k,u as i,y as R,W as I,X as $,Y as q,E as S,aa as U,$ as j}from"./index-a2233f8b.js";/* empty css                   *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{b as L}from"./order-828c3db7.js";const O={class:"dialog-footer"},K=E({__name:"order-notes",emits:["complete"],setup(P,{expose:V,emit:h}){const r=u(!1),a=u(!1),d={order_id:0,shop_remark:""},o=F({...d}),c=u(),D=B(()=>({company_name:[{required:!0,message:n("companyNamePlaceholder"),trigger:"blur"}]})),x=async t=>{a.value||!t||await t.validate(async e=>{e&&(a.value=!0,L(o).then(_=>{a.value=!1,r.value=!1,h("complete")}).catch(()=>{a.value=!1}))})};return V({showDialog:r,setFormData:async(t=null)=>{Object.assign(o,d),a.value=!0,t&&(o.order_id=t.order_id,o.shop_remark=t.shop_remark),a.value=!1}}),(t,e)=>{const p=I,_=$,w=q,f=S,N=U,b=j;return v(),g(N,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),title:i(n)("notes"),width:"460px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:s(()=>[C("span",O,[m(f,{onClick:e[1]||(e[1]=l=>r.value=!1)},{default:s(()=>[y(k(i(n)("cancel")),1)]),_:1}),m(f,{type:"primary",loading:a.value,onClick:e[2]||(e[2]=l=>x(c.value))},{default:s(()=>[y(k(i(n)("confirm")),1)]),_:1},8,["loading"])])]),default:s(()=>[R((v(),g(w,{model:o,ref_key:"formRef",ref:c,rules:i(D),class:"page-form notes-form"},{default:s(()=>[m(_,{class:"mb-0"},{default:s(()=>[m(p,{modelValue:o.shop_remark,"onUpdate:modelValue":e[0]||(e[0]=l=>o.shop_remark=l),rows:5,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[b,a.value]])]),_:1},8,["modelValue","title"])}}});export{K as _};
