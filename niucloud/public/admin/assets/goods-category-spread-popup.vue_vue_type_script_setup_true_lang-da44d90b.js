import{d as B,n as D,r as o,aK as L,s as N,a3 as f,N as t,h as U,c as $,e as n,w as i,a,t as d,u as p,i as I,V as j,E as Q,W as T,aa as q}from"./index-a2233f8b.js";/* empty css                   *//* empty css                 *//* empty css                  *//* empty css                 *//* empty css                        */import{b as K}from"./browser-a1ac24ac.js";import{q as M}from"./sys-6f61a94e.js";const O={class:"promote-flex flex"},P={class:"promote-img flex justify-center items-center bg-[#f8f8f8] w-[150px] h-[150px]"},R={class:"px-[20px] flex-1"},W={class:"mb-[10px]"},z=["href"],oe=B({__name:"goods-category-spread-popup",setup(A,{expose:w}){const u=D({}),s=o(!1),m=o("");o("");const c=o(""),l=o(""),_=o("");M().then(e=>{m.value=e.data.wap_url});const x=()=>{l.value=`${m.value}${_.value}`,K.toDataURL(l.value,{errorCorrectionLevel:"L",margin:0,width:120}).then(e=>{c.value=e})},y=e=>{Object.assign(u,e),_.value=`/addon/shop/pages/goods/list?curr_goods_category=${u.category_id}`,x(),s.value=!0},{copy:h,isSupported:b,copied:v}=L(),E=e=>{b.value||f({message:t("notSupportCopy"),type:"warning"}),h(e)};return N(v,()=>{v.value&&f({message:t("copySuccess"),type:"success"})}),w({showDialog:s,show:y}),(e,r)=>{const C=j,V=Q,S=T,k=q;return U(),$("div",null,[n(k,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=g=>s.value=g),title:p(t)("goodsCategorySpreadTitle"),width:"500px","destroy-on-close":!0},{default:i(()=>[a("div",O,[a("div",P,[n(C,{src:c.value},null,8,["src"])]),a("div",R,[a("div",W,d(p(t)("spreadLink")),1),n(S,{class:"mb-[10px]",readonly:"",value:l.value},{append:i(()=>[n(V,{onClick:r[0]||(r[0]=g=>E(l.value))},{default:i(()=>[I(d(p(t)("copy")),1)]),_:1})]),_:1},8,["value"]),a("a",{class:"text-primary",href:c.value,download:""},d(p(t)("downloadQrcode")),9,z)])])]),_:1},8,["modelValue","title"])])}}});export{oe as _};
