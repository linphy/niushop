import{d as O,v as M,r as g,l as k,h as u,c as E,e as r,w as l,a as n,t as i,u as o,J as W,m as p,k as s,bh as R,B as v,i as c,F as j,O as G,av as H,G as K,D as L,aa as S,ab as I,aj as P,bg as J,K as $,H as q,E as Q,L as X}from"./index-785a2eda.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                *//* empty css                          *//* empty css                    *//* empty css                       *//* empty css                 *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  */import{d as Y,V as Z,W as ee}from"./member-c401cd2a.js";const te={class:"main-container"},ae={class:"flex justify-between items-center"},oe={class:"text-page-title"},le={class:"text-[12px] text-[#999] leading-[24px]"},se=n("span",{class:"ml-2"},"%",-1),re={class:"text-[12px] text-[#999] leading-[24px]"},ne={class:"text-[12px] text-[#999] leading-[24px]"},ie={class:"fixed-footer-wrap"},de={class:"fixed-footer"},Te=O({__name:"cash_out",setup(ue){const C=M().meta.title,f=g(!0),x=g(),t=k({is_auto_transfer:"0",is_auto_verify:"0",is_open:"0",min:"0",rate:"0",transfer_type:[]}),y=g([]);(async()=>{y.value=await(await Y()).data})(),(async()=>{const m=await(await Z()).data;Object.keys(t).forEach(e=>{m[e]!=null&&(t[e]=m[e])}),f.value=!1})();const F=k({min:[{validator:(m,e,d)=>{Number(e)<.01?d(new Error(s("cashWithdrawalAmountHint"))):d()},trigger:"blur"}],rate:[{validator:(m,e,d)=>{Number(e)>100||Number(e)<0?d(new Error(s("commissionRatioHint"))):d()},trigger:"blur"}]}),T=async m=>{f.value||!m||await m.validate(e=>{if(e){const d={...t};ee(d).then(()=>{f.value=!1}).catch(()=>{f.value=!1})}})};return(m,e)=>{const d=H,_=K,h=L,b=S,V=I,N=P,D=J,w=$,B=q,U=Q,z=X;return u(),E("div",te,[r(w,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[n("div",ae,[n("span",oe,i(o(C)),1)]),W((u(),p(B,{class:"page-form mt-[20px]",model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:x,rules:F},{default:l(()=>[r(w,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r(_,{label:o(s)("isOpen")},{default:l(()=>[r(d,{modelValue:t.is_open,"onUpdate:modelValue":e[0]||(e[0]=a=>t.is_open=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1},8,["label"]),t.is_open?(u(),p(_,{key:0,label:o(s)("cashWithdrawalAmount"),prop:"min"},{default:l(()=>[n("div",null,[r(h,{modelValue:t.min,"onUpdate:modelValue":e[1]||(e[1]=a=>t.min=a),modelModifiers:{trim:!0},onKeyup:e[2]||(e[2]=a=>o(R)(a)),class:"input-width",placeholder:o(s)("cashWithdrawalAmountPlaceholder")},null,8,["modelValue","placeholder"]),n("div",le,i(o(s)("minTips")),1)])]),_:1},8,["label"])):v("",!0),t.is_open?(u(),p(_,{key:1,label:o(s)("commissionRatio"),prop:"rate"},{default:l(()=>[r(h,{modelValue:t.rate,"onUpdate:modelValue":e[3]||(e[3]=a=>t.rate=a),modelModifiers:{trim:!0},onKeyup:e[4]||(e[4]=a=>o(R)(a)),class:"input-width",placeholder:o(s)("commissionRatioPlaceholder")},null,8,["modelValue","placeholder"]),se]),_:1},8,["label"])):v("",!0),t.is_open?(u(),p(_,{key:2,label:o(s)("audit"),class:"items-center"},{default:l(()=>[r(V,{modelValue:t.is_auto_verify,"onUpdate:modelValue":e[5]||(e[5]=a=>t.is_auto_verify=a)},{default:l(()=>[r(b,{label:"0",size:"large"},{default:l(()=>[c(i(o(s)("manualAudit")),1)]),_:1}),r(b,{label:"1",size:"large"},{default:l(()=>[c(i(o(s)("automaticAudit")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):v("",!0),t.is_open?(u(),p(_,{key:3,label:o(s)("transfer"),class:"items-baseline"},{default:l(()=>[n("div",null,[r(V,{modelValue:t.is_auto_transfer,"onUpdate:modelValue":e[6]||(e[6]=a=>t.is_auto_transfer=a)},{default:l(()=>[r(b,{label:"0",size:"large"},{default:l(()=>[c(i(o(s)("manualTransfer")),1)]),_:1}),r(b,{label:"1",size:"large"},{default:l(()=>[c(i(o(s)("automatedTransit")),1)]),_:1})]),_:1},8,["modelValue"]),n("div",re,i(o(s)("transferTips")),1)])]),_:1},8,["label"])):v("",!0),t.is_open?(u(),p(_,{key:4,label:o(s)("transferMode"),class:"items-baseline"},{default:l(()=>[n("div",null,[r(D,{modelValue:t.transfer_type,"onUpdate:modelValue":e[7]||(e[7]=a=>t.transfer_type=a),size:"large"},{default:l(()=>[(u(!0),E(j,null,G(y.value,(a,A)=>(u(),p(N,{label:a.key,key:"a"+A},{default:l(()=>[c(i(a.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),n("div",ne,i(o(s)("transferModeTips")),1)])]),_:1},8,["label"])):v("",!0)]),_:1})]),_:1},8,["model","rules"])),[[z,f.value]])]),_:1}),n("div",ie,[n("div",de,[r(U,{type:"primary",onClick:e[8]||(e[8]=a=>T(x.value))},{default:l(()=>[c(i(o(s)("save")),1)]),_:1})])])])}}});export{Te as default};
