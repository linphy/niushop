import{d as z,O as T,f as j,n as R,r as b,h as y,c as S,e as t,w as r,a as i,u as o,t as d,N as l,i as u,y as M,I as U,a8 as I,E as L,W as O,X as W,Y as X,_ as Y,ah as q,aj as A,a4 as G,$ as H}from"./index-a2233f8b.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{_ as J}from"./delivery-personnel-edit.vue_vue_type_style_index_0_lang-d6e3fe0f.js";import{n as K,o as Q}from"./delivery-af7aa755.js";/* empty css                   */const Z={class:"main-container"},ee={class:"flex justify-between items-center"},ae={class:"detail-head !m-0"},te=i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),le={class:"ml-[1px]"},oe=i("span",{class:"adorn"},"|",-1),ne={class:"right"},re={class:"mt-[10px]"},ie={class:"mt-[16px] flex justify-end"},Fe=z({__name:"staff",setup(se){const x=T(),C=j(),k=x.meta.title,e=R({page:1,limit:10,total:0,loading:!1,data:[],searchParam:{deliver_name:"",deliver_mobile:""}}),f=b(),m=(s=1)=>{e.loading=!0,e.page=s,K({page:e.page,limit:e.limit,...e.searchParam}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};m();const p=b(null),D=()=>{p.value.setFormData(),p.value.showDialog=!0},E=s=>{p.value.setFormData(s),p.value.showDialog=!0},P=s=>{I.confirm(l("deliverDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{Q(s).then(()=>{m()}).catch(()=>{})})},w=s=>{s&&(s.resetFields(),m())};return(s,a)=>{const c=L,g=O,_=W,F=X,h=Y,v=q,V=A,B=G,N=H;return y(),S("div",Z,[t(h,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[i("div",ee,[i("div",ae,[i("div",{class:"left",onClick:a[0]||(a[0]=n=>o(C).push("/shop/order/delivery"))},[te,i("span",le,d(o(l)("returnToPreviousPage")),1)]),oe,i("span",ne,d(o(k)),1)]),t(c,{type:"primary",onClick:D},{default:r(()=>[u(d(o(l)("addDeliveryPersonnel")),1)]),_:1})]),t(h,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[t(F,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:r(()=>[t(_,{label:o(l)("deliverName"),prop:"deliver_name"},{default:r(()=>[t(g,{modelValue:e.searchParam.deliver_name,"onUpdate:modelValue":a[1]||(a[1]=n=>e.searchParam.deliver_name=n),placeholder:o(l)("deliverNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(_,{label:o(l)("deliverMobile"),prop:"deliver_mobile"},{default:r(()=>[t(g,{modelValue:e.searchParam.deliver_mobile,"onUpdate:modelValue":a[2]||(a[2]=n=>e.searchParam.deliver_mobile=n),placeholder:o(l)("deliverMobilePlaceholder"),onkeyup:"this.value = this.value.replace(/[^\\d]/g,'');"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(_,null,{default:r(()=>[t(c,{type:"primary",onClick:a[3]||(a[3]=n=>m())},{default:r(()=>[u(d(o(l)("search")),1)]),_:1}),t(c,{onClick:a[4]||(a[4]=n=>w(f.value))},{default:r(()=>[u(d(o(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i("div",re,[M((y(),U(V,{data:e.data,ref:"tableRef",size:"large"},{empty:r(()=>[i("span",null,d(e.loading?"":o(l)("emptyData")),1)]),default:r(()=>[t(v,{prop:"deliver_name",label:o(l)("deliverName")},null,8,["label"]),t(v,{prop:"deliver_mobile",label:o(l)("deliverMobile")},null,8,["label"]),t(v,{label:o(l)("operation"),fixed:"right",align:"right",width:"120"},{default:r(({row:n})=>[t(c,{type:"primary",link:"",onClick:$=>E(n)},{default:r(()=>[u(d(o(l)("edit")),1)]),_:2},1032,["onClick"]),t(c,{type:"primary",link:"",onClick:$=>P(n.deliver_id)},{default:r(()=>[u(d(o(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[N,e.loading]]),i("div",ie,[t(B,{"current-page":e.page,"onUpdate:current-page":a[5]||(a[5]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":a[6]||(a[6]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[7]||(a[7]=n=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1}),t(J,{ref_key:"editCategoryDialog",ref:p,onComplete:m},null,512)])}}});export{Fe as default};
