import{d as Ke,O as Je,f as We,r as I,n as C,D as ve,cy as le,q as Xe,N as o,a0 as Ye,h as g,c as h,a as i,u as n,t as f,e as d,w as p,I as G,F as v,G as S,A as te,B as O,i as w,y as ae,cT as Qe,z as re,a3 as D,ax as ye,X as es,W as ss,cI as os,as as ls,aE as ts,aA as as,cO as rs,ay as is,az as ns,Y as ds,aC as cs,a1 as ps,E as us,aL as _s,aD as ms,_ as fs,p as gs,g as hs}from"./index-a2233f8b.js";/* empty css                *//* empty css                    */import{_ as bs}from"./index.vue_vue_type_script_setup_true_lang-fd2e4b9b.js";/* empty css                  *//* empty css                  *//* empty css                *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                          */import{_ as ks}from"./index-58cd4749.js";import"./el-form-item-4ed993c7.js";import{S as vs}from"./sortable.esm-be94e56d.js";import{a as ys,Z as Vs,g as ws,J as xs,K as Es,R as Ss,S as Ns,_ as Cs,$ as Ts}from"./goods-b7f9d4bf.js";import{T as Ve}from"./test-1df70a90.js";import{r as Us}from"./range-72edfd9a.js";import{_ as Ps}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-a6915b29.js";/* empty css                   */import"./attachment-181b3017.js";/* empty css                   *//* empty css                        *//* empty css                      *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                         *//* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-be5440b6.js";import"./sys-6f61a94e.js";const $=R=>(gs("data-v-b8f6ae2f"),R=R(),hs(),R),Gs={class:"main-container"},Is={class:"detail-head"},Os=$(()=>i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),Ds={class:"ml-[1px]"},$s=$(()=>i("span",{class:"adorn"},"|",-1)),Ls={class:"right"},Rs={class:"goods-type-name"},Fs={class:"goods-type-desc"},js=$(()=>i("div",{class:"triangle"},null,-1)),Bs=$(()=>i("div",{class:"selected"},"✓",-1)),qs=["onClick"],Zs={class:"goods-type-name"},zs={class:"goods-type-desc"},Ms=$(()=>i("div",{class:"triangle"},null,-1)),As=$(()=>i("div",{class:"selected"},"✓",-1)),Hs={class:"ml-[10px]"},Ks={class:"ml-[10px]"},Js={class:"ml-[10px]"},Ws={class:"ml-[10px]"},Xs={class:"ml-[10px]"},Ys={class:"el-form-item asterisk-left"},Qs={class:"el-form-item__label w-[120px]"},eo={class:"spec-wrap"},so={class:"spec-edit-list"},oo={class:"spec-name-wrap"},lo={class:"spec-value-wrap"},to=["onClick"],ao=$(()=>i("div",{class:"box"},null,-1)),ro={class:"add-spec"},io={class:"batch-operation-sku"},no={class:"sku-table"},co={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},po={class:"el-table__inner-wrapper"},uo={class:"el-table__header-wrapper"},_o={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},mo={key:0,class:"el-table__cell"},fo={class:"cell"},go={class:"el-table__cell"},ho={class:"cell"},bo={class:"el-table__cell"},ko={class:"cell"},vo={class:"el-table__cell"},yo={class:"cell"},Vo={class:"el-table__cell"},wo={class:"cell"},xo={class:"el-table__cell"},Eo={class:"cell"},So={class:"el-table__cell"},No={class:"cell"},Co={class:"el-table__cell"},To={class:"cell"},Uo={class:"el-table__body-wrapper"},Po={class:"el-scrollbar"},Go={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},Io={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},Oo={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},Do={tabindex:"-1"},$o=["rowspan"],Lo={class:"cell"},Ro={class:"el-table__cell"},Fo={class:"cell"},jo={class:"el-table__cell"},Bo={class:"cell"},qo={class:"el-table__cell"},Zo={class:"cell"},zo={class:"el-table__cell"},Mo={class:"cell"},Ao={class:"el-table__cell"},Ho={class:"cell"},Ko={class:"el-table__cell"},Jo={class:"cell"},Wo={class:"el-table__cell"},Xo={class:"cell"},Yo={class:"fixed-footer-wrap"},Qo={class:"fixed-footer"},el=Ke({__name:"virtual_edit",setup(R){const we=Je(),T=We(),F=I(!1),a=C({...{goods_type:"virtual",goods_id:"",goods_name:"",sub_title:"",goods_image:"",goods_category:"",brand_id:"",label_ids:[],service_ids:[],supplier_id:"",status:"1",sort:"",addon_shop_supplier:[],spec_type:"single",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",unit:"",virtual_sale_num:"",goods_desc:""}});a.goods_id=I(we.query.goods_id);const ie=I(),ne=I(),de=I(),j=I("basic"),xe=(c,e)=>{},A=C([]),Ee=c=>{T.push(c.path)},H=C([]),Se={multiple:!0},Ne=c=>{},K=C([]),J=C([]),W=C([]),X=C([]),b=C([]),_=C({}),Y=C([]);ys().then(c=>{const e=c.data;if(e)for(const r in e)A.push(e[r])});const Ce=()=>{const c=T.resolve({path:"/shop/goods/category"});window.open(c.href)},ce=()=>{ws().then(c=>{const e=c.data;if(e){const r=[];e.forEach(l=>{const s=[];l.child_list&&l.child_list.forEach(m=>{s.push({value:m.category_id,label:m.category_name})}),r.push({value:l.category_id,label:l.category_name,children:s})}),H.splice(0,H.length,...r)}})};ce();const Te=()=>{const c=T.resolve({path:"/shop/goods/brand"});window.open(c.href)},pe=()=>{xs({}).then(c=>{const e=c.data;e&&K.splice(0,K.length,...e)})};pe();const Ue=()=>{const c=T.resolve({path:"/shop/goods/label"});window.open(c.href)},ue=()=>{Es({}).then(c=>{const e=c.data;e&&J.splice(0,J.length,...e)})};ue();const Pe=()=>{const c=T.resolve({path:"/shop/goods/service"});window.open(c.href)},_e=()=>{Ss({}).then(c=>{const e=c.data;e&&W.splice(0,W.length,...e)})};_e();const Ge=()=>{const c=T.resolve({path:"/shop_supplier/supplier"});window.open(c.href)},me=()=>{Ns({}).then(c=>{const e=c.data;e&&X.splice(0,X.length,...e)})};Vs({goods_id:a.goods_id}).then(c=>{const e=c.data;if(e&&(a.addon_shop_supplier=e.addon_shop_supplier,a.addon_shop_supplier&&a.addon_shop_supplier.status==1&&me(),a.goods_id&&e.goods_info)){if(a.goods_name=e.goods_info.goods_name,a.sub_title=e.goods_info.sub_title,a.goods_type=e.goods_info.goods_type,a.goods_image=e.goods_info.goods_image,a.goods_category=e.goods_info.goods_category,a.brand_id=e.goods_info.brand_id,a.label_ids=e.goods_info.label_ids,a.service_ids=e.goods_info.service_ids,a.supplier_id=e.goods_info.supplier_id,a.status=e.goods_info.status,a.sort=e.goods_info.sort,a.spec_type=e.goods_info.spec_type,a.stock=e.goods_info.stock,a.spec_type=="single"){const r=e.goods_info.sku_list[0];a.price=r.price,a.market_price=r.market_price,a.cost_price=r.cost_price,a.sku_no=r.sku_no}else a.spec_type=="multi"&&(e.goods_info.spec_list.forEach(s=>{const m=[];s.spec_values=s.spec_values.split(","),s.spec_values.forEach(y=>{m.push({id:P(),spec_value_name:y})}),b.push({id:P(),spec_id:s.spec_id,goods_id:s.goods_id,spec_name:s.spec_name,values:m})}),e.goods_info.sku_list.forEach(s=>{const m=[];b.forEach((y,E)=>{y.values.forEach(N=>{N.spec_value_name==s.sku_spec_format.split(",")[E]&&m.push({id:N.id,spec_value_name:N.spec_value_name})})}),_[P()]={sku_id:s.sku_id,spec_name:s.sku_spec_format.replace(/,/g," "),sku_spec:m,sku_image:s.sku_image,price:s.price,market_price:s.market_price,cost_price:s.cost_price,stock:s.stock,sku_no:s.sku_no,is_default:s.is_default}}),ve(()=>{L(),fe()}));a.unit=e.goods_info.unit,a.virtual_sale_num=e.goods_info.virtual_sale_num,a.goods_desc=e.goods_info.goods_desc}});const B=I(),fe=()=>{if(B.value)for(let c=0;c<B.value.length;c++){const e=B.value[c],r=vs.create(e,{group:"draggable-element-"+c,animation:200,onEnd:l=>{const s=b[c].values[l.oldIndex];b[c].values.splice(l.oldIndex,1),b[c].values.splice(l.newIndex,0,s),ve(()=>{r.sort(Us(b[c].values.length).map(m=>m.toString())),q(),L()})}})}},P=(c=5)=>Number(Math.random().toString().substr(3,c)+Date.now()).toString(36),Ie=()=>{if(b.length>4){D({type:"warning",message:`${o("maxAddSpecTips")}`});return}b.push({id:P(),spec_name:"",values:[{id:P(),spec_value_name:""}]})},Oe=c=>{b.splice(c,1),q(),L(),Q()},De=c=>{b[c].values.push({id:P(),spec_value_name:""}),fe()},$e=ye(c=>{q(),L()}),Le=(c,e)=>{b[c].values.splice(e,1),q(),L(),Q()},Re=(c,e)=>{for(const r in _)r==e?_[r].is_default=c:_[r].is_default=0},Q=ye(()=>{let c=0;for(const e in _)_[e].stock&&(c+=parseInt(_[e].stock));a.stock=c}),q=()=>{const c=b,e=le(_);let r={};for(const s of c){const m={};if(Object.keys(r).length>0)for(const y in r)for(const E of s.values){let N=le(r[y].sku_spec);N.push(E),m[P()]={spec_name:`${r[y].spec_name} ${E.spec_value_name}`,sku_spec:N,sku_image:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",is_default:0}}else for(const y of s.values){let E=y.spec_value_name;m[P()]={spec_name:E,sku_spec:[y],sku_image:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",is_default:0}}r=Object.keys(m).length>0?m:r}for(const s in e)for(const m in r)if(Fe(e[s].sku_spec,r[m].sku_spec)===r[m].sku_spec.length){const E=r[m].spec_name,N=r[m].sku_spec;Object.assign(r[m],e[s]),r[m].spec_name=E,r[m].sku_spec=N;break}for(const s in _)delete _[s];let l="";for(const s in r)l==""&&(l=s,r[s].is_default=1),_[s]=r[s]},Fe=(c,e)=>{let r=0;for(let l=0;l<c.length;l++)for(let s=0;s<e.length;s++)if(c[l].id===e[s].id){r++;break}return r},L=()=>{let c=0;for(let l=0;l<b.length;l++)b[l].spec_name!=""&&b[l].values.length>0&&c++;let e=1;const r=[];for(let l=c-1;l>=0;l--){for(let s=0;s<Object.keys(_).length;)if(b[l].values.length>0)for(const m of b[l].values)r.push({index:s,colSpan:l,rowSpan:e,spec_value_name:m.spec_value_name}),s=s+e;else s++;e=e*b[l].values.length}r.reverse(),Y.splice(0,Y.length,...r)},u=C({spec:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:""}),je=()=>{if(u.price&&(isNaN(u.price)||!x.digit.test(u.price))){D({type:"warning",message:`${o("priceTips")}`});return}if(u.market_price&&(isNaN(u.market_price)||!x.digit.test(u.market_price))){D({type:"warning",message:`${o("marketPriceTips")}`});return}if(u.cost_price&&(isNaN(u.cost_price)||!x.digit.test(u.cost_price))){D({type:"warning",message:`${o("costPriceTips")}`});return}if(u.stock&&(isNaN(u.stock)||!x.number.test(u.stock))){D({type:"warning",message:`${o("stockTips")}`});return}if(u.spec)u.price&&(_[u.spec].price=u.price),u.market_price&&(_[u.spec].market_price=u.market_price),u.cost_price&&(_[u.spec].cost_price=u.cost_price),u.stock&&(_[u.spec].stock=u.stock),u.sku_no&&(_[u.spec].sku_no=u.sku_no);else for(const c in _)u.price&&(_[c].price=u.price),u.market_price&&(_[c].market_price=u.market_price),u.cost_price&&(_[c].cost_price=u.cost_price),u.stock&&(_[c].stock=u.stock),u.sku_no&&(_[c].sku_no=u.sku_no);u.price="",u.market_price="",u.cost_price="",u.stock="",u.sku_no=""},x={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/},ee=Xe(()=>{const c={goods_name:[{required:!0,trigger:"blur",validator:(r,l,s)=>{l===""&&s(new Error(o("goodsNamePlaceholder"))),l.length>60?s(new Error(o("goodsNameMaxLengthTips"))):s()}}],sub_title:[{trigger:"blur",validator:(r,l,s)=>{l.length>80?s(new Error(o("subTitleMaxLengthTips"))):s()}}],goods_image:[{required:!0,message:o("goodsImagePlaceholder"),trigger:"blur"}],goods_category:[{required:!0,message:o("goodsCategoryPlaceholder"),trigger:"blur"}],sort:[{trigger:"blur",validator:(r,l,s)=>{isNaN(l)||!x.number.test(l)?s(new Error(o("sortTips"))):s()}}],price:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="single"?l===""?s(new Error(o("pricePlaceholder"))):isNaN(l)||!x.digit.test(l)?s(new Error(o("priceTips"))):l<0?s(new Error(o("priceNotZeroTips"))):s():s()}}],market_price:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="single"?isNaN(l)||!x.digit.test(l)?s(new Error(o("marketPriceTips"))):l<0?s(new Error(o("marketPriceNotZeroTips"))):s():s()}}],cost_price:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="single"?isNaN(l)||!x.digit.test(l)?s(new Error(o("costPriceTips"))):l<0?s(new Error(o("costPriceNotZeroTips"))):s():s()}}],stock:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="single"?l===""?s(new Error(o("stockPlaceholder"))):isNaN(l)||!x.number.test(l)?s(new Error(o("stockTips"))):l<0?s(new Error(o("stockNotZeroTips"))):s():s()}}],virtual_sale_num:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="single"?isNaN(l)||!x.number.test(l)?s(new Error(o("virtualSaleNumTips"))):l<0?s(new Error(o("virtualSaleNumNotZeroTips"))):s():s()}}],spec_type:[{trigger:"blur",validator:(r,l,s)=>{a.spec_type=="multi"&&Object.keys(_).length==0&&s(new Error(o("pleaseEditSpecPlaceholder"))),s()}}],goods_desc:[{trigger:"blur",validator:(r,l,s)=>{if(l==="")s(new Error(o("goodsDescPlaceholder")));else{if(l.length<5||l.length>5e4)return s(new Error(o("goodsDescMaxTips"))),!1;s()}}}]};return Object.assign(c,{sku_price:[{trigger:"blur",validator:(r,l,s)=>{if(a.spec_type=="multi"){for(const m in _)if(_[m].price.length==0){s(new Error(o("pricePlaceholder")));break}else if(isNaN(_[m].price)||!x.digit.test(_[m].price)){s(new Error(o("priceTips")));break}else if(_[m].price<0){s(new Error(o("priceNotZeroTips")));break}s()}}}],sku_market_price:[{trigger:"blur",validator:(r,l,s)=>{if(a.spec_type=="multi"){for(const m in _)if(isNaN(_[m].market_price)||!x.digit.test(_[m].market_price)){s(new Error(o("marketPriceTips")));break}else if(_[m].market_price<0){s(new Error(o("marketPriceNotZeroTips")));break}s()}}}],sku_cost_price:[{trigger:"blur",validator:(r,l,s)=>{if(a.spec_type=="multi"){for(const m in _)if(isNaN(_[m].cost_price)||!x.digit.test(_[m].cost_price)){s(new Error(o("costPriceTips")));break}else if(_[m].cost_price<0){s(new Error(o("costPriceNotZeroTips")));break}s()}}}],sku_stock:[{trigger:"blur",validator:(r,l,s)=>{if(a.spec_type=="multi"){for(const m in _)if(_[m].stock.length==0){s(new Error(o("stockPlaceholder")));break}else if(isNaN(_[m].stock)||!x.number.test(_[m].stock)){s(new Error(o("stockTips")));break}else if(_[m].stock<0){s(new Error(o("stockNotZeroTips")));break}s()}}}]}),c}),Be=c=>{const e=[{key:"basic",verify:!1,ref:ie.value},{key:"price_stock",verify:!1,ref:ne.value},{key:"detail",verify:!1,ref:de.value}];if(e.forEach((r,l)=>{r.ref.validate(s=>{r.verify=s})}),a.spec_type=="multi"){let r=!0;for(let l=0;l<b.length;l++){const s=b[l];if(Ve.require(s.spec_name)){r=!1,D({type:"warning",message:`${o("specNameRequire")}`});break}for(let m=0;m<s.values.length;m++){const y=s.values[m];if(Ve.require(y.spec_value_name)){r=!1,D({type:"warning",message:`${o("specValueRequire")}`});break}}if(!r)break}if(!r){j.value="price_stock";return}}setTimeout(()=>{let r=!0;for(let l=0;l<e.length;l++)if(e[l].verify==!1){j.value=e[l].key,r=!1;break}r&&c&&c()},10)},qe=()=>{Be(()=>{if(F.value)return;F.value=!0;const c=a.goods_id?Cs:Ts,e=le(a);if(a.spec_type=="multi"){e.stock=0;for(const l in _)_[l].stock&&(e.stock+=parseInt(_[l].stock))}const r=[];e.goods_category.forEach(l=>{typeof l=="object"?l.forEach(s=>{r.indexOf(s)==-1&&r.push(s)}):r.indexOf(l)==-1&&r.push(l)}),e.goods_category=r,e.goods_sku_data=_,e.goods_spec_format=b,c(e).then(l=>{F.value=!1,T.push("/shop/goods/list")}).catch(l=>{F.value=!1})})},Ze=()=>{T.push("/shop/goods/list")};return(c,e)=>{const r=es,l=ss,s=ks,m=os,y=ls,E=ts,N=as,ge=rs,Z=is,he=ns,se=ds,oe=cs,be=Ye("CircleCloseFilled"),ke=ps,z=us,ze=_s,Me=bs,Ae=ms,He=fs;return g(),h("div",Gs,[i("div",Is,[i("div",{class:"left",onClick:e[0]||(e[0]=t=>n(T).push("/shop/goods/list"))},[Os,i("span",Ds,f(n(o)("returnToPreviousPage")),1)]),$s,i("span",Ls,f(a.goods_id?n(o)("updateGoods"):n(o)("addGoods")),1)]),d(He,{class:"box-card !border-none",shadow:"never"},{default:p(()=>[d(Ae,{modelValue:j.value,"onUpdate:modelValue":e[26]||(e[26]=t=>j.value=t),class:"",onTabClick:xe},{default:p(()=>[d(oe,{label:n(o)("basicInfoTab"),name:"basic"},{default:p(()=>[d(se,{model:a,"label-width":"120px",ref_key:"basicFormRef",ref:ie,rules:n(ee),class:"page-form"},{default:p(()=>[a.goods_id?(g(),G(r,{key:0,label:n(o)("goodsType")},{default:p(()=>[(g(!0),h(v,null,S(A,t=>(g(),h("div",{key:t.type,class:te(["goods-type-wrap",[a.goods_type==t.type?"selected":"disabled"]])},[i("div",Rs,f(t.name),1),i("div",Fs,"("+f(t.desc)+")",1),a.goods_type==t.type?(g(),h(v,{key:0},[js,Bs],64)):O("",!0)],2))),128))]),_:1},8,["label"])):(g(),G(r,{key:1,label:n(o)("goodsType")},{default:p(()=>[(g(!0),h(v,null,S(A,t=>(g(),h("div",{class:te(["goods-type-wrap",{selected:a.goods_type==t.type}]),key:t.type,onClick:V=>Ee(t)},[i("div",Zs,f(t.name),1),i("div",zs,"("+f(t.desc)+")",1),a.goods_type==t.type?(g(),h(v,{key:0},[Ms,As],64)):O("",!0)],10,qs))),128))]),_:1},8,["label"])),d(r,{label:n(o)("goodsName"),prop:"goods_name"},{default:p(()=>[d(l,{modelValue:a.goods_name,"onUpdate:modelValue":e[1]||(e[1]=t=>a.goods_name=t),clearable:"",placeholder:n(o)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(r,{label:n(o)("subTitle"),prop:"sub_title"},{default:p(()=>[d(l,{modelValue:a.sub_title,"onUpdate:modelValue":e[2]||(e[2]=t=>a.sub_title=t),clearable:"",placeholder:n(o)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(r,{label:n(o)("goodsImage"),prop:"goods_image"},{default:p(()=>[d(s,{modelValue:a.goods_image,"onUpdate:modelValue":e[3]||(e[3]=t=>a.goods_image=t),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),d(r,{label:n(o)("goodsCategory"),prop:"goods_category"},{default:p(()=>[d(m,{modelValue:a.goods_category,"onUpdate:modelValue":e[4]||(e[4]=t=>a.goods_category=t),options:H,props:Se,clearable:"",filterable:"",onChange:Ne},null,8,["modelValue","options"]),i("div",Hs,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:ce},f(n(o)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ce},f(n(o)("addGoodsCategory")),1)])]),_:1},8,["label"]),d(r,{label:n(o)("brand")},{default:p(()=>[d(E,{modelValue:a.brand_id,"onUpdate:modelValue":e[5]||(e[5]=t=>a.brand_id=t),placeholder:n(o)("brandPlaceholder"),clearable:""},{default:p(()=>[(g(!0),h(v,null,S(K,t=>(g(),G(y,{key:t.brand_id,label:t.brand_name,value:t.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),i("div",Ks,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:pe},f(n(o)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Te},f(n(o)("addGoodsBrand")),1)])]),_:1},8,["label"]),d(r,{label:n(o)("label")},{default:p(()=>[d(ge,{modelValue:a.label_ids,"onUpdate:modelValue":e[6]||(e[6]=t=>a.label_ids=t)},{default:p(()=>[(g(!0),h(v,null,S(J,(t,V)=>(g(),G(N,{label:t.label_id,key:V},{default:p(()=>[w(f(t.label_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),i("div",Js,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:ue},f(n(o)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ue},f(n(o)("addGoodsLabel")),1)])]),_:1},8,["label"]),d(r,{label:n(o)("goodsService")},{default:p(()=>[d(ge,{modelValue:a.service_ids,"onUpdate:modelValue":e[7]||(e[7]=t=>a.service_ids=t)},{default:p(()=>[(g(!0),h(v,null,S(W,(t,V)=>(g(),G(N,{label:t.service_id,key:V},{default:p(()=>[w(f(t.service_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),i("div",Ws,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:_e},f(n(o)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Pe},f(n(o)("addGoodsService")),1)])]),_:1},8,["label"]),a.addon_shop_supplier&&a.addon_shop_supplier.status==1?(g(),G(r,{key:2,label:n(o)("supplier")},{default:p(()=>[d(E,{modelValue:a.supplier_id,"onUpdate:modelValue":e[8]||(e[8]=t=>a.supplier_id=t),placeholder:n(o)("supplierPlaceholder"),clearable:""},{default:p(()=>[(g(!0),h(v,null,S(X,t=>(g(),G(y,{key:t.supplier_id,label:t.supplier_name,value:t.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),i("div",Xs,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:me},f(n(o)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ge},f(n(o)("addSupplier")),1)])]),_:1},8,["label"])):O("",!0),d(r,{label:n(o)("status")},{default:p(()=>[d(he,{modelValue:a.status,"onUpdate:modelValue":e[9]||(e[9]=t=>a.status=t)},{default:p(()=>[d(Z,{label:"1"},{default:p(()=>[w(f(n(o)("statusOn")),1)]),_:1}),d(Z,{label:"0"},{default:p(()=>[w(f(n(o)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(r,{label:n(o)("unit"),prop:"unit"},{default:p(()=>[d(l,{modelValue:a.unit,"onUpdate:modelValue":e[10]||(e[10]=t=>a.unit=t),clearable:"",placeholder:n(o)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(r,{label:n(o)("virtualSaleNum"),prop:"virtual_sale_num"},{default:p(()=>[d(l,{modelValue:a.virtual_sale_num,"onUpdate:modelValue":e[11]||(e[11]=t=>a.virtual_sale_num=t),clearable:"",placeholder:n(o)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"10"},{append:p(()=>[w(f(a.unit?a.unit:"件"),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),d(r,{label:n(o)("sort"),prop:"sort"},{default:p(()=>[d(l,{modelValue:a.sort,"onUpdate:modelValue":e[12]||(e[12]=t=>a.sort=t),clearable:"",placeholder:n(o)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"10"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(oe,{label:n(o)("priceStockTab"),name:"price_stock"},{default:p(()=>[d(se,{model:a,"label-width":"120px",ref_key:"priceStockFormRef",ref:ne,rules:n(ee),class:"page-form"},{default:p(()=>[d(r,{label:n(o)("specType"),prop:"spec_type"},{default:p(()=>[d(he,{modelValue:a.spec_type,"onUpdate:modelValue":e[13]||(e[13]=t=>a.spec_type=t)},{default:p(()=>[d(Z,{label:"single"},{default:p(()=>[w(f(n(o)("singleSpec")),1)]),_:1}),d(Z,{label:"multi"},{default:p(()=>[w(f(n(o)("multiSpec")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a.spec_type=="single"?(g(),h(v,{key:0},[d(r,{label:n(o)("price"),prop:"price"},{default:p(()=>[d(l,{modelValue:a.price,"onUpdate:modelValue":e[14]||(e[14]=t=>a.price=t),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:p(()=>[w(f(n(o)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(r,{label:n(o)("marketPrice"),prop:"market_price"},{default:p(()=>[d(l,{modelValue:a.market_price,"onUpdate:modelValue":e[15]||(e[15]=t=>a.market_price=t),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:p(()=>[w(f(n(o)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(r,{label:n(o)("costPrice"),prop:"cost_price"},{default:p(()=>[d(l,{modelValue:a.cost_price,"onUpdate:modelValue":e[16]||(e[16]=t=>a.cost_price=t),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:p(()=>[w(f(n(o)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(r,{label:n(o)("goodsStock"),prop:"stock"},{default:p(()=>[d(l,{modelValue:a.stock,"onUpdate:modelValue":e[17]||(e[17]=t=>a.stock=t),clearable:"",placeholder:n(o)("goodsStockPlaceholder"),class:"input-width",type:"number",maxlength:"10"},{append:p(()=>[w(f(a.unit?a.unit:n(o)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),d(r,{label:n(o)("skuNo")},{default:p(()=>[d(l,{modelValue:a.sku_no,"onUpdate:modelValue":e[18]||(e[18]=t=>a.sku_no=t),clearable:"",placeholder:n(o)("skuNoPlaceholder"),class:"input-width",maxlength:"50"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):O("",!0),ae(i("div",Ys,[i("div",Qs,f(n(o)("goodsSku")),1),i("div",eo,[i("div",so,[(g(!0),h(v,null,S(b,(t,V)=>(g(),h("div",{class:"spec-item",key:t.id},[i("div",oo,[d(l,{modelValue:t.spec_name,"onUpdate:modelValue":U=>t.spec_name=U,clearable:"",placeholder:n(o)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),i("div",lo,[i("ul",{ref_for:!0,ref_key:"specValueRef",ref:B},[(g(!0),h(v,null,S(t.values,(U,k)=>(g(),h("li",{class:te("draggable-element"+V),key:U.id},[d(l,{modelValue:U.spec_value_name,"onUpdate:modelValue":M=>U.spec_value_name=M,clearable:"",placeholder:n(o)("specValueNamePlaceholder"),class:"input-width","suffix-icon":n(Qe),maxlength:"20",onInput:n($e)},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),d(ke,{class:"icon",size:20,color:"#7b7b7b",onClick:M=>Le(V,k)},{default:p(()=>[d(be)]),_:2},1032,["onClick"])],2))),128))],512),i("span",{class:"text-color text-[14px] add-spec-value",onClick:U=>De(V)},f(n(o)("addSpecValue")),9,to),ao]),d(ke,{class:"del-spec",size:20,color:"#7b7b7b",onClick:U=>Oe(V)},{default:p(()=>[d(be)]),_:2},1032,["onClick"])]))),128))]),i("div",ro,[d(z,{type:"primary",onClick:Ie},{default:p(()=>[w(f(n(o)("addSpec")),1)]),_:1})]),ae(i("div",io,[i("label",null,f(n(o)("batchOperationSku")),1),d(E,{modelValue:u.spec,"onUpdate:modelValue":e[19]||(e[19]=t=>u.spec=t),class:"set-spec-select"},{default:p(()=>[d(y,{label:n(o)("all"),value:""},null,8,["label"]),(g(!0),h(v,null,S(_,(t,V)=>(g(),h(v,{key:V},[t.spec_name?(g(),G(y,{key:0,label:t.spec_name,value:V},null,8,["label","value"])):O("",!0)],64))),128))]),_:1},8,["modelValue"]),d(l,{modelValue:u.price,"onUpdate:modelValue":e[20]||(e[20]=t=>u.price=t),clearable:"",placeholder:n(o)("price"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),d(l,{modelValue:u.market_price,"onUpdate:modelValue":e[21]||(e[21]=t=>u.market_price=t),clearable:"",placeholder:n(o)("marketPrice"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),d(l,{modelValue:u.cost_price,"onUpdate:modelValue":e[22]||(e[22]=t=>u.cost_price=t),clearable:"",placeholder:n(o)("costPrice"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),d(l,{modelValue:u.stock,"onUpdate:modelValue":e[23]||(e[23]=t=>u.stock=t),clearable:"",placeholder:n(o)("stock"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),d(l,{modelValue:u.sku_no,"onUpdate:modelValue":e[24]||(e[24]=t=>u.sku_no=t),clearable:"",maxlength:"50",placeholder:n(o)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),d(z,{type:"primary",onClick:je},{default:p(()=>[w(f(n(o)("confirm")),1)]),_:1})],512),[[re,Object.keys(_).length]]),ae(i("div",no,[i("div",co,[i("div",po,[i("div",uo,[i("table",_o,[i("thead",null,[i("tr",null,[(g(!0),h(v,null,S(b,(t,V)=>(g(),h(v,{key:V},[t.spec_name?(g(),h("th",mo,[i("div",fo,f(t.spec_name),1)])):O("",!0)],64))),128)),i("th",go,[i("div",ho,f(n(o)("image")),1)]),i("th",bo,[i("div",ko,f(n(o)("price")),1)]),i("th",vo,[i("div",yo,f(n(o)("marketPrice")),1)]),i("th",Vo,[i("div",wo,f(n(o)("costPrice")),1)]),i("th",xo,[i("div",Eo,f(n(o)("stock")),1)]),i("th",So,[i("div",No,f(n(o)("skuNo")),1)]),i("th",Co,[i("div",To,f(n(o)("defaultSku")),1)])])])])]),i("div",Uo,[i("div",Po,[i("div",Go,[i("div",Io,[i("table",Oo,[i("tbody",Do,[(g(!0),h(v,null,S(_,(t,V,U)=>(g(),h("tr",{class:"el-table__row",key:V},[(g(!0),h(v,null,S(Y,(k,M)=>(g(),h(v,{key:M},[k.index==U?(g(),h("td",{key:0,class:"el-table__cell",rowspan:k.rowSpan},[i("div",Lo,f(k.spec_value_name),1)],8,$o)):O("",!0)],64))),128)),i("td",Ro,[i("div",Fo,[d(s,{modelValue:t.sku_image,"onUpdate:modelValue":k=>t.sku_image=k,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),i("td",jo,[i("div",Bo,[d(r,{prop:"sku_price",class:"sku-form-item-wrap"},{default:p(()=>[d(l,{modelValue:t.price,"onUpdate:modelValue":k=>t.price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",qo,[i("div",Zo,[d(r,{prop:"sku_market_price",class:"sku-form-item-wrap"},{default:p(()=>[d(l,{modelValue:t.market_price,"onUpdate:modelValue":k=>t.market_price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",zo,[i("div",Mo,[d(r,{prop:"'sku_cost_price",class:"sku-form-item-wrap"},{default:p(()=>[d(l,{modelValue:t.cost_price,"onUpdate:modelValue":k=>t.cost_price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",Ao,[i("div",Ho,[d(r,{prop:"sku_stock",class:"sku-form-item-wrap"},{default:p(()=>[d(l,{modelValue:t.stock,"onUpdate:modelValue":k=>t.stock=k,clearable:"",placeholder:"0",onInput:n(Q),maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:2},1024)])]),i("td",Ko,[i("div",Jo,[d(l,{modelValue:t.sku_no,"onUpdate:modelValue":k=>t.sku_no=k,clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),i("td",Wo,[i("div",Xo,[d(ze,{modelValue:t.is_default,"onUpdate:modelValue":k=>t.is_default=k,"active-value":1,"inactive-value":0,onChange:k=>Re(k,V)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])])])],512),[[re,Object.keys(_).length]])])],512),[[re,a.spec_type=="multi"]])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(oe,{label:n(o)("goodsDesc"),name:"detail"},{default:p(()=>[d(se,{model:a,"label-width":"120px",ref_key:"detailFormRef",ref:de,rules:n(ee),class:"page-form"},{default:p(()=>[d(r,{label:n(o)("goodsDesc"),prop:"goods_desc"},{default:p(()=>[d(Me,{modelValue:a.goods_desc,"onUpdate:modelValue":e[25]||(e[25]=t=>a.goods_desc=t),height:"600px",class:"editor-width"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1}),i("div",Yo,[i("div",Qo,[d(z,{type:"primary",onClick:e[27]||(e[27]=t=>qe())},{default:p(()=>[w(f(n(o)("save")),1)]),_:1}),d(z,{onClick:e[28]||(e[28]=t=>Ze())},{default:p(()=>[w(f(n(o)("back")),1)]),_:1})])])])}}});const Zl=Ps(el,[["__scopeId","data-v-b8f6ae2f"]]);export{Zl as default};
