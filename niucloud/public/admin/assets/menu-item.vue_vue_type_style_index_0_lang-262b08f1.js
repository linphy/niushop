import{d as R,j as w,Y as S,M as y,r as $,ah as j,u as e,h as t,c as u,m as d,w as c,B as l,a as h,t as p,F as v,O as F,e as I,i as T,f as q,bO as A,Z as D,bP as K,v as L}from"./index-a59af0dd.js";import"./el-sub-menu-4ed993c7.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-4d04ecba.js";const U={key:0,class:"w-[16px] h-[16px] relative flex items-center"},Y={class:"ml-[10px]"},Z={key:0,class:"w-[16px] h-[16px] relative flex items-center"},z={class:"ml-[10px]"},G={key:0,class:"w-[16px] h-[16px] relative flex items-center"},H={class:"ml-[10px]"},J={key:2,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},E=R({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(s){const i=s,b=q(),m=L();w();const B=w().routers,r=S(),n=y(()=>i.routes.meta),C=y(()=>{const o={};return r==null||r.apps.forEach(a=>{o[a.key]=a}),r==null||r.addons.forEach(a=>{o[a.key]=a}),o}),N=y(()=>r==null?void 0:r.addons.map(o=>o.key)),x={};B.forEach(o=>{o.original_name=o.name,o.meta.addon&&(x[o.meta.addon]=o)});const _=$(null);return j(m,()=>{i.routes.name=="addon_list"&&(N.value.includes(m.meta.addon)&&x[m.meta.addon]?_.value=x[m.meta.addon]:_.value=null)},{immediate:!0}),(o,a)=>{const f=P,M=A,V=D,g=K;return e(n).show?(t(),u(v,{key:0},[s.routes.children?(t(),d(M,{key:0,index:String(s.routes.name)},{title:c(()=>[i.level==1?(t(),u("div",U,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",Y,p(e(n).title),1)]),default:c(()=>[(t(!0),u(v,null,F(s.routes.children,(k,O)=>(t(),d(E,{routes:k,key:O,level:i.level+1},null,8,["routes","level"]))),128)),s.routes.name=="addon_list"?(t(),u(v,{key:0},[_.value?(t(),d(E,{routes:_.value,key:o.index,level:i.level+1},null,8,["routes","level"])):l("",!0)],64)):l("",!0)]),_:1},8,["index"])):(t(),u(v,{key:1},[e(n).addon&&e(n).parent_route&&e(n).parent_route.addon==""?(t(),d(g,{key:0,index:String(s.routes.name),onClick:a[0]||(a[0]=k=>e(b).push({name:s.routes.name}))},{title:c(()=>[I(V,{placement:"right",effect:"light"},{content:c(()=>[T(" 该功能仅限"+p(e(C)[e(n).addon].title)+"使用 ",1)]),default:c(()=>[i.level==1?(t(),u("div",Z,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",z,p(e(n).title),1)]),_:1})]),_:1},8,["index"])):(t(),d(g,{key:1,index:String(s.routes.name),onClick:a[1]||(a[1]=k=>e(b).push({name:s.routes.name}))},{title:c(()=>[i.level==1?(t(),u("div",G,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",H,p(e(n).title),1)]),_:1},8,["index"]))],64)),s.routes.is_border?(t(),u("div",J)):l("",!0)],64)):l("",!0)}}});export{E as _};
