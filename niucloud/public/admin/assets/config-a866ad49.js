import{d as G,O as K,r as b,a0 as S,h as f,c as V,a as i,t as s,u as o,y as $,I as L,w as a,e as t,N as l,cM as w,i as _,F as k,G as z,A as M,B as N,W as Q,X as W,aA as X,_ as Y,ay as q,az as H,a1 as J,E as Z,cQ as ee,Y as le,$ as te}from"./index-1d549745.js";/* empty css                   *//* empty css                     *//* empty css                          *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                *//* empty css                    *//* empty css                 */import{c as oe,e as ne}from"./order-b9bfc26e.js";const ae={class:"main-container pt-[20px]"},se={class:"flex ml-[18px] justify-between items-center"},ie={class:"text-page-title"},re={class:"panel-title !text-sm pl-[15px]"},ue={class:"!text-sm"},de={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},_e={class:"panel-title !text-sm pl-[15px]"},pe={class:"!text-sm"},ce={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},ve={class:"panel-title !text-sm pl-[15px]"},me={class:"!text-sm"},fe={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},he={class:"panel-title !text-sm pl-[15px]"},xe={class:"panel-title !text-sm pl-[15px]"},ge={class:"flex"},be={class:"mx-[10px]"},Ve={class:"mr-[10px]"},we={key:0,class:"fixed-footer-wrap"},Ce={class:"fixed-footer"},ke=G({__name:"config",setup(Ee){const U=K().meta.title,n=b({close_length:"10",finish_length:"1",invoice_content:[""],invoice_type:[],is_close:"1",is_finish:"1",is_invoice:"1",no_allow_refund:"1",refund_length:"1",is_evaluate:1,evaluate_is_to_examine:1,evaluate_is_show:1}),B=b({close_length:[{validator:(p,e,u)=>n.value.is_close!="2"?e==""?u(new Error(l("CloseLengthPlaceholder"))):Number(e)>=10&&Number(e)<=1440?u():u(new Error(l("closeOrderInfoBottom"))):u(),trigger:"blur"}],finish_length:[{validator:(p,e,u)=>n.value.is_finish!="2"?e==""?u(new Error(l("finishLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?u():u(new Error(l("confirmBottom"))):u(),trigger:"blur"}],refund_length:[{validator:(p,e,u)=>n.value.no_allow_refund!="2"?e==""?u(new Error(l("validRefundLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?u():u(new Error(l("refundBottom"))):u(),trigger:"blur"}],invoice_content:[{validator:(p,e,u)=>n.value.is_invoice==="1"&&e.some(d=>d==="")?u(new Error(l("invoicePlaceholder1"))):u(),trigger:"blur"}],invoice_type:[{validator:(p,e,u)=>n.value.is_invoice==="1"?e.length?u():u(new Error(l("invoiceTypePlaceholder"))):u(),trigger:"change"}]}),v=b(!1),C=()=>{v.value=!0,oe().then(p=>{Object.values(p.data).forEach(e=>{n.value=Object.assign(n.value,e)}),n.value.invoice_content.length||n.value.invoice_content.push(""),v.value=!1}).catch(()=>{v.value=!1})},O=()=>{n.value.invoice_content.push("")},R=p=>{n.value.invoice_content.splice(p,1)};C();const E=b(),F=async p=>{await p.validate(async e=>{e&&(v.value=!0,ne(n.value).then(u=>{C()}).catch(()=>{v.value=!1}))})};return(p,e)=>{const u=Q,d=W,h=X,x=Y,c=q,g=H,T=S("CircleCloseFilled"),P=J,y=Z,j=ee,A=le,D=te;return f(),V("div",ae,[i("div",se,[i("span",ie,s(o(U)),1)]),$((f(),L(A,{model:n.value,"label-width":"95",ref_key:"formRef",ref:E,rules:B.value,class:"page-form"},{default:a(()=>[t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",re,s(o(l)("closeOrderInfo")),1),t(d,{prop:"close_length"},{default:a(()=>[i("div",null,[i("p",ue,[i("span",null,s(o(l)("closeOrderInfoLeft")),1),t(u,{modelValue:n.value.close_length,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value.close_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[1]||(e[1]=r=>o(w)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("closeOrderInfoRight")),1)]),i("p",de,s(o(l)("closeOrderInfoBottom")),1)])]),_:1}),t(d,{prop:"is_close"},{default:a(()=>[t(h,{modelValue:n.value.is_close,"onUpdate:modelValue":e[2]||(e[2]=r=>n.value.is_close=r),label:o(l)("isClose"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",_e,s(o(l)("confirm")),1),t(d,{prop:"finish_length"},{default:a(()=>[i("div",null,[i("p",pe,[i("span",null,s(o(l)("confirmLeft")),1),t(u,{modelValue:n.value.finish_length,"onUpdate:modelValue":e[3]||(e[3]=r=>n.value.finish_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[4]||(e[4]=r=>o(w)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("confirmRight")),1)]),i("p",ce,s(o(l)("confirmBottom")),1)])]),_:1}),t(d,{prop:"is_finish"},{default:a(()=>[t(h,{modelValue:n.value.is_finish,"onUpdate:modelValue":e[5]||(e[5]=r=>n.value.is_finish=r),label:o(l)("isFinish"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",ve,s(o(l)("refund")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("div",null,[i("p",me,[i("span",null,s(o(l)("refundLeft")),1),t(u,{modelValue:n.value.refund_length,"onUpdate:modelValue":e[6]||(e[6]=r=>n.value.refund_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[7]||(e[7]=r=>o(w)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("refundRight")),1)]),i("p",fe,s(o(l)("refundBottom")),1)])]),_:1}),t(d,{prop:"no_allow_refund"},{default:a(()=>[t(h,{modelValue:n.value.no_allow_refund,"onUpdate:modelValue":e[8]||(e[8]=r=>n.value.no_allow_refund=r),label:o(l)("noAllowRefund"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",he,s(o(l)("evaluate")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("isEvaluate")),1),t(g,{class:"mx-[10px]",modelValue:n.value.is_evaluate,"onUpdate:modelValue":e[9]||(e[9]=r=>n.value.is_evaluate=r)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("evaluateIsToExamine")),1),t(g,{class:"mx-[10px]",modelValue:n.value.evaluate_is_to_examine,"onUpdate:modelValue":e[10]||(e[10]=r=>n.value.evaluate_is_to_examine=r)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("evaluateIsShow")),1),t(g,{class:"mx-[10px]",modelValue:n.value.evaluate_is_show,"onUpdate:modelValue":e[11]||(e[11]=r=>n.value.evaluate_is_show=r)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",xe,s(o(l)("invoice")),1),t(d,null,{default:a(()=>[i("span",null,s(o(l)("isInvoice")),1),t(g,{class:"mx-[10px]",modelValue:n.value.is_invoice,"onUpdate:modelValue":e[12]||(e[12]=r=>n.value.is_invoice=r)},{default:a(()=>[t(c,{label:"2"},{default:a(()=>[_(s(o(l)("isInvoiceClose")),1)]),_:1}),t(c,{label:"1"},{default:a(()=>[_(s(o(l)("isInvoiceOpen")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"invoice_content"},{default:a(()=>[i("div",ge,[i("div",null,s(o(l)("invoiceContent")),1),i("div",be,[(f(!0),V(k,null,z(n.value.invoice_content,(r,m)=>(f(),V("div",{class:M(["w-[120px] relative",m?"mt-[15px]":""]),key:m},[t(u,{modelValue:n.value.invoice_content[m],"onUpdate:modelValue":I=>n.value.invoice_content[m]=I,class:"!w-[120px]",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),m?(f(),L(P,{key:0,color:"rgba(0, 0, 0, 0.3)",class:"!absolute right-[-6px] top-[-5px]",onClick:I=>R(m)},{default:a(()=>[t(T)]),_:2},1032,["onClick"])):N("",!0)],2))),128))]),t(y,{onClick:O},{default:a(()=>[_(s(o(l)("insert")),1)]),_:1})])]),_:1}),t(d,{prop:"invoice_type"},{default:a(()=>[i("span",Ve,s(o(l)("invoiceType")),1),t(j,{modelValue:n.value.invoice_type,"onUpdate:modelValue":e[13]||(e[13]=r=>n.value.invoice_type=r)},{default:a(()=>[t(h,{label:"1"},{default:a(()=>[_(s(o(l)("electronicInvoice")),1)]),_:1}),t(h,{label:"2"},{default:a(()=>[_(s(o(l)("paperInvoice")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[D,v.value]]),v.value?N("",!0):(f(),V("div",we,[i("div",Ce,[t(y,{type:"primary",onClick:e[14]||(e[14]=r=>F(E.value))},{default:a(()=>[_(s(o(l)("save")),1)]),_:1})])]))])}}});export{ke as default};
