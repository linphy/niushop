import{d as U,k as l,r as b,an as q,aG as z,h as g,c as x,J as V,a9 as k,u as n,a as m,b as y,e as a,w as p,i as f,t as d,F as E,O as D,B as I,P,aa as F,ab as G,G as j,D as J,E as K,U as A,H}from"./index-ac08d87d.js";/* empty css                *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 */import{u as L}from"./diy-9e975008.js";import{S as Q}from"./sortable.esm-be94e56d.js";import{r as W}from"./range-0d394551.js";const X={class:"content-wrap"},Y=["onClick"],Z={class:"mb-[5px]"},ee={class:"text-[#888] text-[12px] mb-[5px]"},te={class:"mt-[10px] text-right"},oe={class:"style-wrap"},ne=U({__name:"edit-form-radio",setup(le,{expose:R}){const e=L();e.editComponent.ignore=["componentBgUrl"],e.editComponent.verify=o=>{const t={code:!0,message:""};let s=!0;for(let r=0;r<e.value[o].options.length;r++)if(!e.value[o].options[r].text){t.code=!1,t.message=l("optionPlaceholder"),s=!1;break}return s&&h(e.value[o].options,"text").length!=e.value[o].options.length&&(t.code=!1,t.message=l("errorTipsOne")),t},e.editComponent.options.forEach(o=>{o.id||(o.id=e.generateRandom())});const _=b(!1),c=b(),T=()=>{e.editComponent.options.push({id:e.generateRandom(),text:"选项"+(e.editComponent.options.length+1)})},N=o=>{e.editComponent.options.splice(o,1)},B=()=>{if(c.value.trim()){const o=c.value.split(",").map(i=>({id:e.generateRandom(),text:i.trim()})).filter(i=>i.text!==""),s=h(o,"text").filter(i=>!e.editComponent.options.some(r=>r.text===i.text));s.length>0?e.editComponent.options.push(...s):P({message:l("errorTipsTwo"),type:"warning"}),c.value="",_.value=!1}},h=(o,t)=>{const s=new Set;return o.filter(i=>{const r=JSON.stringify(i[t]);return s.has(r)?!1:s.add(r)})},C=b();return q(()=>{z(()=>{const o=Q.create(C.value,{group:"option-item",animation:200,onEnd:t=>{const s=e.editComponent.options[t.oldIndex];e.editComponent.options.splice(t.oldIndex,1),e.editComponent.options.splice(t.newIndex,0,s),o.sort(W(e.editComponent.options.length).map(i=>i.toString()))}})})}),R({}),(o,t)=>{const s=F,i=G,r=j,w=J,O=K,$=A,M=H;return g(),x(E,null,[V(m("div",X,[y(o.$slots,"field"),a(M,{"label-width":"100px",class:"px-[10px]"},{default:p(()=>[a(r,{label:n(l)("style")},{default:p(()=>[a(i,{modelValue:n(e).editComponent.style,"onUpdate:modelValue":t[0]||(t[0]=u=>n(e).editComponent.style=u)},{default:p(()=>[a(s,{label:"style-1"},{default:p(()=>[f(d(n(l)("defaultSources")),1)]),_:1}),a(s,{label:"style-2"},{default:p(()=>[f(d(n(l)("listStyle")),1)]),_:1}),a(s,{label:"style-3"},{default:p(()=>[f(d(n(l)("dropDownStyle")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(r,{label:n(l)("option")},{default:p(()=>[m("div",{ref_key:"formRadioRef",ref:C},[(g(!0),x(E,null,D(n(e).editComponent.options,(u,v)=>(g(),x("div",{key:u.id,class:"option-item flex items-center mb-[15px]"},[a(w,{modelValue:n(e).editComponent.options[v].text,"onUpdate:modelValue":S=>n(e).editComponent.options[v].text=S,class:"!w-[215px]",placeholder:n(l)("optionPlaceholder"),clearable:"",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),n(e).editComponent.options.length>1?(g(),x("span",{key:0,onClick:S=>N(v),class:"cursor-pointer ml-[5px] nc-iconfont nc-icon-shanchu-yuangaizhiV6xx"},null,8,Y)):I("",!0)]))),128))],512),m("span",{class:"text-primary cursor-pointer mr-[10px]",onClick:T},d(n(l)("addSingleOption")),1),a($,{visible:_.value,placement:"bottom",width:300},{reference:p(()=>[m("span",{class:"text-primary cursor-pointer",onClick:t[3]||(t[3]=u=>_.value=!0)},d(n(l)("addMultipleOption")),1)]),default:p(()=>[m("p",Z,d(n(l)("addMultipleOption")),1),m("p",ee,d(n(l)("addOptionTips")),1),a(w,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=u=>c.value=u),modelModifiers:{trim:!0},type:"textarea",clearable:"",maxlength:"200","show-word-limit":""},null,8,["modelValue"]),m("div",te,[a(O,{size:"small",text:"",onClick:t[2]||(t[2]=u=>_.value=!1)},{default:p(()=>[f(d(n(l)("cancel")),1)]),_:1}),a(O,{size:"small",type:"primary",onClick:B},{default:p(()=>[f(d(n(l)("confirm")),1)]),_:1})])]),_:1},8,["visible"])]),_:1},8,["label"])]),_:1}),y(o.$slots,"other")],512),[[k,n(e).editTab=="content"]]),V(m("div",oe,[y(o.$slots,"style-field"),y(o.$slots,"style")],512),[[k,n(e).editTab=="style"]])],64)}}}),xe=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{xe as _};
