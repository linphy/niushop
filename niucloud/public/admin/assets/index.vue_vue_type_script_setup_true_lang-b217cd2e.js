import{d as y,r as k,M as V,f as C,h as v,m as B,w as l,a as u,e as d,i as f,t as p,u as a,k as r,aU as E,P,E as D,V as N}from"./index-ad4e42d5.js";/* empty css                  *//* empty css                   *//* empty css                  */import{F as T,G as b}from"./sys-747f9e8e.js";const F={class:"dialog-footer"},G=y({__name:"index",props:{show:{type:Boolean,default:!1},type:{type:String,default:""},searchParam:{type:Object,default:()=>({})}},emits:["update:show","close"],setup(m,{emit:o}){const e=m,n=k(!1),c=V({get(){return e.show},set(s){o("update:show",s)}}),h=C(),_=()=>{n.value=!0;const s=h.resolve({path:"/admin/setting/export"});T(e.type,{page:1,limit:1,...e.searchParam}).then(t=>{t.data?b(e.type,e.searchParam).then(()=>{n.value=!1,o("close",!1),setTimeout(()=>{window.open(s.href)},100)}).catch(()=>{}):(o("close",!1),P.error(t.msg))}).catch(()=>{})},g=()=>{o("close",!1)};return(s,t)=>{const i=D,x=N;return v(),B(x,{modelValue:a(c),"onUpdate:modelValue":t[0]||(t[0]=w=>E(c)?c.value=w:null),title:a(r)("exportTip"),width:"300px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:l(()=>[u("span",F,[d(i,{onClick:g},{default:l(()=>[f(p(a(r)("cancel")),1)]),_:1}),d(i,{type:"primary",onClick:_,loading:n.value},{default:l(()=>[f(p(a(r)("exportConfirm")),1)]),_:1},8,["loading"])])]),default:l(()=>[u("span",null,p(a(r)("exportPlaceholder")),1)]),_:1},8,["modelValue","title"])}}});export{G as _};
