import{d as F,r as w,n as A,v as O,h as u,c as L,y as S,z as R,u as e,a as l,t as i,N as r,A as T,e as a,w as s,i as _,I as b,B as V,aj as M,R as X,b as Y,F as q,ay as H,az as J,X as K,cz as Q,Y as W,ah as Z,V as ee,E as oe,aa as te,cA as le,$ as ae}from"./index-1d549745.js";/* empty css                   *//* empty css                        *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                 *//* empty css                        *//* empty css                        *//* empty css                    *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                        */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                       *//* empty css                 */import{_ as se}from"./category_default-03996666.js";import{g as ne}from"./goods-af228f6a.js";import{u as re}from"./diy-6ae630cb.js";import ie from"./goods-select-popup-aeb12c21.js";const de={class:"content-wrap"},me={class:"edit-attr-item-wrap"},ce={class:"mb-[10px]"},pe={class:"flex items-center mb-[18px] rounded overflow-hidden"},ue={class:"edit-attr-item-wrap"},_e={class:"mb-[10px]"},ge={class:"flex items-center w-full"},fe={class:"text-[var(--el-color-primary)]"},ye=l("span",{class:"iconfont iconxiangyoujiantou"},null,-1),be={class:"flex items-center w-full ml-[5px]"},Ce={class:"ml-[15px]"},xe={class:"order-2"},he={class:"h-[30px]"},ve=l("div",{class:"image-slot"},[l("img",{class:"w-[30px] h-[30px]",src:se})],-1),we={class:"flex items-center justify-end mt-[15px]"},Se={class:"style-wrap"},Ve={class:"edit-attr-item-wrap"},Ee={class:"mb-[10px]"},ke=F({__name:"edit-goods-list",setup(Re,{expose:B}){const t=re();t.editComponent.ignore=[];const p=w(!1),d=A({loading:!0,data:[],searchParam:{category_name:""}});O(()=>{z()});const g=w();let f=null;const z=()=>{d.loading=!0,ne({...d.searchParam}).then(m=>{d.loading=!1,d.data=m.data,t.editComponent.source=="category"&&d.data.forEach((o,y)=>{t.editComponent.goods_category==o.category_id&&(x.value=o.category_name,f=o)})}).catch(()=>{d.loading=!1})};let C={};const x=w("请选择"),P=m=>{let o="";m&&(o=m[m.length-1]),m.length>1&&g.value.clearSelection(),o&&g.value.toggleRowSelection(o,!0),f=o,C=o},D=()=>{t.editComponent.goods_category=C.category_id,x.value=C.category_name,p.value=!1},N=()=>{p.value=!0,f&&setTimeout(()=>{g.value.toggleRowSelection(f,!0)},200)};return B({}),(m,o)=>{const y=H,j=J,c=K,h=Q,E=W,v=Z,U=ee,k=oe,G=te,I=le,$=ae;return u(),L(q,null,[S(l("div",de,[l("div",me,[l("h3",ce,i(e(r)("selectStyle")),1),l("div",pe,[l("span",{class:T(["iconfont icongudingzhanshi border-[1px] border-solid border-[#eee] cursor-pointer flex-1 flex items-center justify-center py-[5px]",{"border-[var(--el-color-primary)] text-[var(--el-color-primary)]":e(t).editComponent.style=="style1"}]),onClick:o[0]||(o[0]=n=>e(t).editComponent.style="style1")},null,2),l("span",{class:T(["iconfont icontuwendaohang3 border-[1px] border-solid border-[#eee] cursor-pointer flex-1 flex items-center justify-center py-[5px]",{"border-[var(--el-color-primary)] text-[var(--el-color-primary)]":e(t).editComponent.style=="style2"}]),onClick:o[1]||(o[1]=n=>e(t).editComponent.style="style2")},null,2)])]),l("div",ue,[l("h3",_e,i(e(r)("selectSource")),1),a(E,{"label-width":"80px",class:"px-[10px]"},{default:s(()=>[a(c,{label:e(r)("goodsSelectPopupSelectGoodsButton")},{default:s(()=>[a(j,{modelValue:e(t).editComponent.source,"onUpdate:modelValue":o[2]||(o[2]=n=>e(t).editComponent.source=n),title:e(r)("goodsSelectPopupSelectGoodsButton"),class:"mb-[18px]"},{default:s(()=>[a(y,{label:"all"},{default:s(()=>[_(i(e(r)("goodsSelectPopupAllGoods")),1)]),_:1}),a(y,{label:"category"},{default:s(()=>[_(i(e(r)("selectCategory")),1)]),_:1}),a(y,{label:"custom"},{default:s(()=>[_(i(e(r)("manualSelectionSources")),1)]),_:1})]),_:1},8,["modelValue","title"])]),_:1},8,["label"]),e(t).editComponent.source=="category"?(u(),b(c,{key:0,label:e(r)("selectCategory")},{default:s(()=>[l("div",ge,[l("div",{class:"cursor-pointer ml-auto",onClick:N},[l("span",fe,i(x.value),1),ye])])]),_:1},8,["label"])):V("",!0),e(t).editComponent.source=="all"||e(t).editComponent.source=="category"?(u(),b(c,{key:1,label:e(r)("goodsNum")},{default:s(()=>[l("div",be,[a(h,{class:"flex-1",modelValue:e(t).editComponent.num,"onUpdate:modelValue":o[3]||(o[3]=n=>e(t).editComponent.num=n),max:"20",size:"small"},null,8,["modelValue"]),l("span",Ce,i(e(t).editComponent.num),1)])]),_:1},8,["label"])):V("",!0),e(t).editComponent.source=="custom"?(u(),b(c,{key:2,label:e(r)("customGoods")},{default:s(()=>[a(ie,{ref:"goodsSelectPopupRef",modelValue:e(t).editComponent.goods_ids,"onUpdate:modelValue":o[4]||(o[4]=n=>e(t).editComponent.goods_ids=n),min:1,max:99},null,8,["modelValue"])]),_:1},8,["label"])):V("",!0)]),_:1}),a(G,{modelValue:p.value,"onUpdate:modelValue":o[6]||(o[6]=n=>p.value=n),title:e(r)("goodsCategoryTitle"),width:"1000px","close-on-press-escape":!1,"destroy-on-close":!0,"close-on-click-modal":!1},{default:s(()=>[S((u(),b(e(M),{data:d.data,ref_key:"categoryTableRef",ref:g,size:"large",height:"490px",onSelectionChange:P,"row-key":"category_id","tree-props":{hasChildren:"hasChildren",children:"child_list"}},{empty:s(()=>[l("span",null,i(d.loading?"":e(r)("emptyData")),1)]),default:s(()=>[a(v,{type:"selection",width:"55"}),a(v,{label:e(r)("categoryName"),"min-width":"120"},{default:s(({row:n})=>[l("span",xe,i(n.category_name),1)]),_:1},8,["label"]),a(v,{label:e(r)("categoryImage"),width:"170",align:"left"},{default:s(({row:n})=>[l("div",he,[a(U,{class:"w-[30px] h-[30px]",src:e(X)(n.image),fit:"contain"},{error:s(()=>[ve]),_:2},1032,["src"])])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,d.loading]]),l("div",we,[a(k,{type:"primary",onClick:D},{default:s(()=>[_(i(e(r)("confirm")),1)]),_:1}),a(k,{onClick:o[5]||(o[5]=n=>p.value=!1)},{default:s(()=>[_(i(e(r)("cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])],512),[[R,e(t).editTab=="content"]]),S(l("div",Se,[l("div",Ve,[l("h3",Ee,i(e(r)("goodsStyle")),1),a(E,{"label-width":"80px",class:"px-[10px]"},{default:s(()=>[a(c,{label:e(r)("goodsBgColor")},{default:s(()=>[a(I,{modelValue:e(t).editComponent.elementBgColor,"onUpdate:modelValue":o[7]||(o[7]=n=>e(t).editComponent.elementBgColor=n),"show-alpha":"",predefine:e(t).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"]),a(c,{label:e(r)("topRounded")},{default:s(()=>[a(h,{modelValue:e(t).editComponent.topElementRounded,"onUpdate:modelValue":o[8]||(o[8]=n=>e(t).editComponent.topElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"]),a(c,{label:e(r)("bottomRounded")},{default:s(()=>[a(h,{modelValue:e(t).editComponent.bottomElementRounded,"onUpdate:modelValue":o[9]||(o[9]=n=>e(t).editComponent.bottomElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),Y(m.$slots,"style")],512),[[R,e(t).editTab=="style"]])],64)}}}),Qe=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));export{Qe as _};
