import{d as $,Y as H,j as U,r as v,bh as b,ah as q,h as t,m as i,w as o,e as h,a as c,u as r,c as d,O as E,F as k,t as C,b0 as A,B as I,v as L,f as O,ba as P,C as Y,bP as z,bH as G,a5 as J,I as K,y as Q}from"./index-a59af0dd.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-sub-menu-4ed993c7.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang-4d04ecba.js";/* empty css                 *//* empty css                        */import{_ as W}from"./icon-addon-339e16d0.js";import{_ as X}from"./menu-item.vue_vue_type_style_index_0_lang-b9311d2d.js";const Z={class:"w-[124px] px-[8px] bg-[#282c34] h-screen one-menu"},S={key:0,class:"logo flex items-center m-auto h-[64px]"},ee=c("img",{class:"max-h-[40px] max-w-[40px] rounded-full",src:W,alt:""},null,-1),ae=[ee],ne={key:1,class:"logo flex items-center justify-center h-[64px]"},se=c("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),te=[se],le={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},oe={key:1,class:"w-[16px] h-[16px]"},ce={class:"relative flex-1 w-0"},re={class:"ml-[10px] w-full truncate"},de=c("div",{class:"h-[48px]"},null,-1),ue={class:"w-[140px] h-[64px] flex items-center justify-center text-[16px] border-0 border-b-[1px] border-solid border-[#eee]"},ie=c("div",{class:"h-[48px]"},null,-1),Ce=$({__name:"side",setup(_e){const a=H(),g=U(),s=L(),M=O(),R=g.routers,j=g.addonIndexRoute,_=v([]),u=v([]),m={};if(R.forEach(e=>{e.original_name=e.name,e.meta.addon==""?(e.children&&e.children.length&&(e.name=b(e.children)),_.value.push(e)):e.meta.addon!=""&&(a==null?void 0:a.apps.length)==1&&(a==null?void 0:a.apps[0].key)==e.meta.addon?e.children?(e.children.forEach(n=>{n.original_name=n.name,n.children&&n.children.length&&(n.name=b(n.children))}),_.value.unshift(...e.children)):_.value.unshift(e):m[e.meta.addon]=e}),(a==null?void 0:a.apps.length)>1){const e=[];a==null||a.apps.forEach(n=>{var f;e.push({path:m[n.key]?m[n.key].path:"",meta:{icon:((f=m[n.key])==null?void 0:f.meta.icon)||"element-Setting",addon:n.key,title:n.title,app:n.app,show:!0},original_name:n.key,name:j[n.key]})}),_.value.unshift(...e)}const p=v(s.matched[1].name);return q(s,()=>{if((a==null?void 0:a.apps.length)>1)u.value=s.matched[1].children,p.value=s.matched[1].name;else{const e=s.matched[1];e.meta.addon==""?(p.value=s.matched[1].name,u.value=s.matched[1].children??[]):e.meta.addon==(a==null?void 0:a.apps[0].key)?(p.value=s.matched[2].name,u.value=s.matched[2].children??[]):(p.value=s.matched[1].name,u.value=s.matched[1].children??[])}},{immediate:!0}),(e,n)=>{const f=P,B=Y,V=T,D=z,w=G,y=J,F=K,N=Q;return t(),i(N,{class:"w-100 h-screen"},{default:o(()=>[h(F,{class:"p-0 flex"},{default:o(()=>[c("div",Z,[h(f,{class:"logo-wrap"},{default:o(()=>[r(a).menuIsCollapse?(t(),d("div",ne,te)):(t(),d("div",S,ae))]),_:1}),h(y,{class:"h-[calc( 100vh - 64px )]"},{default:o(()=>[h(w,{"default-active":p.value,router:!0,class:"aside-menu","unique-opened":"true",collapse:r(a).menuIsCollapse},{default:o(()=>[(t(!0),d(k,null,E(_.value,(l,x)=>(t(),d(k,{key:x},[l.meta.show?(t(),i(D,{key:0,index:l.original_name,onClick:pe=>r(M).push({name:l.name})},{title:o(()=>[c("div",ce,[c("span",re,C(l.meta.short_title||l.meta.title),1)])]),default:o(()=>[l.meta.icon?(t(),d("div",le,[r(A)(l.meta.icon)?(t(),i(B,{key:0,class:"w-[16px] h-[16px] rounded-[50%] overflow-hidden",src:l.meta.icon,fit:"fill"},null,8,["src"])):(t(),i(V,{key:1,name:l.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"]))])):(t(),d("div",oe))]),_:2},1032,["index","onClick"])):I("",!0)],64))),128))]),_:1},8,["default-active","collapse"]),de]),_:1})]),u.value.length?(t(),i(y,{key:0,class:"two-menu w-[140px]"},{default:o(()=>[c("div",ue,C(r(s).matched[1].meta.title),1),h(w,{"default-active":r(s).name,router:!0,class:"aside-menu",collapse:r(a).menuIsCollapse},{default:o(()=>[(t(!0),d(k,null,E(u.value,(l,x)=>(t(),i(X,{routes:l,key:x},null,8,["routes"]))),128))]),_:1},8,["default-active","collapse"]),ie]),_:1})):I("",!0)]),_:1})]),_:1})}}});export{Ce as _};
