import{d as b,r as m,l as w,M as g,ah as d,h as E,m as F,w as i,e as r,a as l,J as j,i as k,aa as B,ak as C,D,G as N,H as O}from"./index-e4c6b343.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                    */import{T as c}from"./test-71dfb9c1.js";const R={class:"flex items-center"},T=l("span",{class:"ml-[10px] el-form-item__label"},"消费折扣",-1),I={class:"w-[120px]"},M=l("div",{class:"text-sm text-gray-400 mb-[5px]"},"会员购买产品默认折扣，需要商品设置参与会员折扣有效",-1),A=b({__name:"benefits-discount",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(p,{expose:_,emit:f}){const v=p,e=m({is_use:0,discount:""}),n=m(null),x=w({discount:[{validator:(a,t,s)=>{e.value.is_use&&(c.empty(e.value.discount)&&s("请输入折扣"),c.decimal(e.value.discount,1)||s("折扣格式错误"),(parseFloat(e.value.discount)<.1||parseFloat(e.value.discount)>9.9)&&s("折扣只能输入0.1~9.9之间的值"),e.value.discount<=0&&s("折扣不能小于等于0")),s()}}]}),o=g({get(){return v.modelValue},set(a){f("update:modelValue",a)}});return d(()=>o.value,(a,t)=>{(!t||!Object.keys(t).length)&&Object.keys(a).length&&(e.value=o.value)},{immediate:!0}),d(()=>e.value,()=>{o.value=e.value},{deep:!0}),_({verify:async()=>{var t;let a=!0;return await((t=n.value)==null?void 0:t.validate(s=>{a=s})),a}}),(a,t)=>{const s=C,V=D,h=N,y=O;return E(),F(y,{ref_key:"formRef",ref:n,model:e.value,rules:x},{default:i(()=>[r(h,{label:"",prop:"discount",class:"!mb-[10px]"},{default:i(()=>[l("div",null,[l("div",R,[r(s,{modelValue:e.value.is_use,"onUpdate:modelValue":t[0]||(t[0]=u=>e.value.is_use=u),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),T,j(l("div",I,[r(V,{modelValue:e.value.discount,"onUpdate:modelValue":t[1]||(t[1]=u=>e.value.discount=u),modelModifiers:{trim:!0},clearable:""},{append:i(()=>[k("折")]),_:1},8,["modelValue"])],512),[[B,e.value.is_use]])]),M])]),_:1})]),_:1},8,["model","rules"])}}});export{A as default};
