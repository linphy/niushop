import{an as h,d as S,v as B,r as v,l as D,at as F,ah as H,P as g,k as s,h as I,c as R,e as a,w as l,a as r,t as u,u as i,i as j,aw as M,G as O,D as U,H as $,K as G,E as K}from"./index-6aea3257.js";/* empty css                  *//* empty css                *//* empty css                     *//* empty css                 *//* empty css                  */import{r as P}from"./sys-83b0ac7b.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";function z(){return h.get("channel/h5/config")}function A(_){return h.put("channel/h5/config",_,{showSuccessMessage:!0})}const J={class:"main-container"},L={class:"flex justify-between items-center"},Q={class:"text-page-title"},W={class:"fixed-footer-wrap"},X={class:"fixed-footer"},Y=S({__name:"config",setup(_){const w=B().meta.title,n=v(!0),e=D({is_open:!0,request_url:""}),d=v();z().then(t=>{Object.assign(e,t.data),e.is_open=Boolean(Number(e.is_open)),n.value=!1}),P().then(t=>{e.request_url=t.data.wap_url+"/"});const{copy:y,isSupported:b,copied:m}=F(),x=t=>{if(!b.value){g({message:s("notSupportCopy"),type:"warning"});return}y(t)};H(m,()=>{m.value&&g({message:s("copySuccess"),type:"success"})});const C=()=>{window.open(e.request_url)},E=async t=>{n.value||!t||await t.validate(async o=>{if(o){n.value=!0;const c={...e};c.is_open=Number(c.is_open),A(c).then(()=>{n.value=!1}).catch(()=>{n.value=!1})}})};return(t,o)=>{const c=M,f=O,k=U,N=$,V=G,q=K;return I(),R("div",J,[a(V,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r("div",L,[r("span",Q,u(i(w)),1)]),a(N,{class:"page-form mt-[20px]",model:e,"label-width":"150px",ref_key:"formRef",ref:d},{default:l(()=>[a(f,{label:i(s)("isOpen")},{default:l(()=>[a(c,{modelValue:e.is_open,"onUpdate:modelValue":o[0]||(o[0]=p=>e.is_open=p)},null,8,["modelValue"])]),_:1},8,["label"]),a(f,{label:i(s)("h5DomainName")},{default:l(()=>[a(k,{"model-value":e.request_url,class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:o[1]||(o[1]=p=>x(e.request_url))},u(i(s)("copy")),1)]),_:1},8,["model-value"]),r("span",{class:"ml-2 cursor-pointer visit-btn",onClick:C},u(i(s)("clickVisit")),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1}),r("div",W,[r("div",X,[a(q,{type:"primary",loading:n.value,onClick:o[2]||(o[2]=p=>E(d.value))},{default:l(()=>[j(u(i(s)("save")),1)]),_:1},8,["loading"])])])])}}});const ie=T(Y,[["__scopeId","data-v-8a5349bf"]]);export{ie as default};
