import{d as z,O as T,f as j,n as M,r as b,h as y,c as R,e as a,w as r,a as i,u as o,t as d,N as l,i as u,cM as S,y as U,I,a8 as K,E as L,W as O,X as W,Y as X,_ as Y,ah as q,aj as A,a4 as G,$ as H}from"./index-1d549745.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                     *//* empty css                  */import{_ as J}from"./delivery-personnel-edit.vue_vue_type_style_index_0_lang-e90bc8b8.js";import{n as Q,o as Z}from"./delivery-c3b692ea.js";/* empty css                   */const ee={class:"main-container"},te={class:"flex justify-between items-center"},ae={class:"detail-head !m-0"},le=i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),oe={class:"ml-[1px]"},ne=i("span",{class:"adorn"},"|",-1),re={class:"right"},ie={class:"mt-[10px]"},se={class:"mt-[16px] flex justify-end"},Fe=z({__name:"staff",setup(de){const x=T(),C=j(),k=x.meta.title,e=M({page:1,limit:10,total:0,loading:!1,data:[],searchParam:{deliver_name:"",deliver_mobile:""}}),f=b(),m=(s=1)=>{e.loading=!0,e.page=s,Q({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.total=t.data.total}).catch(()=>{e.loading=!1})};m();const p=b(null),D=()=>{p.value.setFormData(),p.value.showDialog=!0},E=s=>{p.value.setFormData(s),p.value.showDialog=!0},P=s=>{K.confirm(l("deliverDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{Z(s).then(()=>{m()}).catch(()=>{})})},w=s=>{s&&(s.resetFields(),m())};return(s,t)=>{const c=L,g=O,_=W,F=X,h=Y,v=q,N=A,V=G,B=H;return y(),R("div",ee,[a(h,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[i("div",te,[i("div",ae,[i("div",{class:"left",onClick:t[0]||(t[0]=n=>o(C).push("/shop/order/delivery"))},[le,i("span",oe,d(o(l)("returnToPreviousPage")),1)]),ne,i("span",re,d(o(k)),1)]),a(c,{type:"primary",onClick:D},{default:r(()=>[u(d(o(l)("addDeliveryPersonnel")),1)]),_:1})]),a(h,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[a(F,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:r(()=>[a(_,{label:o(l)("deliverName"),prop:"deliver_name"},{default:r(()=>[a(g,{modelValue:e.searchParam.deliver_name,"onUpdate:modelValue":t[1]||(t[1]=n=>e.searchParam.deliver_name=n),placeholder:o(l)("deliverNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,{label:o(l)("deliverMobile"),prop:"deliver_mobile"},{default:r(()=>[a(g,{modelValue:e.searchParam.deliver_mobile,"onUpdate:modelValue":t[2]||(t[2]=n=>e.searchParam.deliver_mobile=n),placeholder:o(l)("deliverMobilePlaceholder"),onKeyup:t[3]||(t[3]=n=>o(S)(n))},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,null,{default:r(()=>[a(c,{type:"primary",onClick:t[4]||(t[4]=n=>m())},{default:r(()=>[u(d(o(l)("search")),1)]),_:1}),a(c,{onClick:t[5]||(t[5]=n=>w(f.value))},{default:r(()=>[u(d(o(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i("div",ie,[U((y(),I(N,{data:e.data,ref:"tableRef",size:"large"},{empty:r(()=>[i("span",null,d(e.loading?"":o(l)("emptyData")),1)]),default:r(()=>[a(v,{prop:"deliver_name",label:o(l)("deliverName")},null,8,["label"]),a(v,{prop:"deliver_mobile",label:o(l)("deliverMobile")},null,8,["label"]),a(v,{label:o(l)("operation"),fixed:"right",align:"right",width:"120"},{default:r(({row:n})=>[a(c,{type:"primary",link:"",onClick:$=>E(n)},{default:r(()=>[u(d(o(l)("edit")),1)]),_:2},1032,["onClick"]),a(c,{type:"primary",link:"",onClick:$=>P(n.deliver_id)},{default:r(()=>[u(d(o(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[B,e.loading]]),i("div",se,[a(V,{"current-page":e.page,"onUpdate:current-page":t[6]||(t[6]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":t[7]||(t[7]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[8]||(t[8]=n=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1}),a(J,{ref_key:"editCategoryDialog",ref:p,onComplete:m},null,512)])}}});export{Fe as default};
