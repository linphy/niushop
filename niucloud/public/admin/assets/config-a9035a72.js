import{d as A,O as D,r as b,a0 as G,h as f,c as V,a as i,t as s,u as n,y as S,I,w as a,e as t,N as l,i as _,F as $,G as z,A as W,B as L,W as X,X as Y,aA as q,_ as H,ay as J,az as K,a1 as M,E as Q,cO as Z,Y as ee,$ as le}from"./index-a2233f8b.js";/* empty css                   *//* empty css                *//* empty css                          *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                *//* empty css                    */import"./el-form-item-4ed993c7.js";/* empty css                 */import{c as te,e as oe}from"./order-828c3db7.js";const ne={class:"main-container pt-[20px]"},ae={class:"flex ml-[18px] justify-between items-center"},se={class:"text-[20px]"},ie={class:"panel-title !text-sm pl-[15px]"},re={class:"!text-sm"},ue={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},de={class:"panel-title !text-sm pl-[15px]"},_e={class:"!text-sm"},pe={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},ce={class:"panel-title !text-sm pl-[15px]"},ve={class:"!text-sm"},me={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},fe={class:"panel-title !text-sm pl-[15px]"},he={class:"panel-title !text-sm pl-[15px]"},xe={class:"flex"},ge={class:"mx-[10px]"},be={class:"mr-[10px]"},Ve={key:0,class:"fixed-footer-wrap"},we={class:"fixed-footer"},ze=A({__name:"config",setup(Ce){const O=D().meta.title,o=b({close_length:"10",finish_length:"1",invoice_content:[""],invoice_type:[],is_close:"1",is_finish:"1",is_invoice:"1",no_allow_refund:"1",refund_length:"1",is_evaluate:1,evaluate_is_to_examine:1,evaluate_is_show:1}),U=b({close_length:[{validator:(p,e,r)=>o.value.is_close!="2"?e==""?r(new Error(l("CloseLengthPlaceholder"))):Number(e)>=10&&Number(e)<=1440?r():r(new Error(l("closeOrderInfoBottom"))):r(),trigger:"blur"}],finish_length:[{validator:(p,e,r)=>o.value.is_finish!="2"?e==""?r(new Error(l("finishLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?r():r(new Error(l("confirmBottom"))):r(),trigger:"blur"}],refund_length:[{validator:(p,e,r)=>o.value.no_allow_refund!="2"?e==""?r(new Error(l("validRefundLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?r():r(new Error(l("refundBottom"))):r(),trigger:"blur"}],invoice_content:[{validator:(p,e,r)=>o.value.is_invoice==="1"&&e.some(d=>d==="")?r(new Error(l("invoicePlaceholder1"))):r(),trigger:"blur"}],invoice_type:[{validator:(p,e,r)=>o.value.is_invoice==="1"?e.length?r():r(new Error(l("invoiceTypePlaceholder"))):r(),trigger:"change"}]}),v=b(!1),w=()=>{v.value=!0,te().then(p=>{Object.values(p.data).forEach(e=>{o.value=Object.assign(o.value,e)}),o.value.invoice_content.length||o.value.invoice_content.push(""),v.value=!1}).catch(()=>{v.value=!1})},B=()=>{o.value.invoice_content.push("")},N=p=>{o.value.invoice_content.splice(p,1)};w();const C=b(),R=async p=>{await p.validate(async e=>{e&&(v.value=!0,oe(o.value).then(r=>{w()}).catch(()=>{v.value=!1}))})};return(p,e)=>{const r=X,d=Y,h=q,x=H,c=J,g=K,F=G("CircleCloseFilled"),T=M,E=Q,k=Z,P=ee,j=le;return f(),V("div",ne,[i("div",ae,[i("span",se,s(n(O)),1)]),S((f(),I(P,{model:o.value,"label-width":"95",ref_key:"formRef",ref:C,rules:U.value,class:"page-form"},{default:a(()=>[t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",ie,s(n(l)("closeOrderInfo")),1),t(d,{prop:"close_length"},{default:a(()=>[i("div",null,[i("p",re,[i("span",null,s(n(l)("closeOrderInfoLeft")),1),t(r,{modelValue:o.value.close_length,"onUpdate:modelValue":e[0]||(e[0]=u=>o.value.close_length=u),class:"!w-[120px] mx-[10px]",onkeyup:"this.value = this.value.replace(/[^\\d]/g,'');",clearable:""},null,8,["modelValue"]),i("span",null,s(n(l)("closeOrderInfoRight")),1)]),i("p",ue,s(n(l)("closeOrderInfoBottom")),1)])]),_:1}),t(d,{prop:"is_close"},{default:a(()=>[t(h,{modelValue:o.value.is_close,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value.is_close=u),label:n(l)("isClose"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",de,s(n(l)("confirm")),1),t(d,{prop:"finish_length"},{default:a(()=>[i("div",null,[i("p",_e,[i("span",null,s(n(l)("confirmLeft")),1),t(r,{modelValue:o.value.finish_length,"onUpdate:modelValue":e[2]||(e[2]=u=>o.value.finish_length=u),class:"!w-[120px] mx-[10px]",onkeyup:"this.value = this.value.replace(/[^\\d]/g,'');",clearable:""},null,8,["modelValue"]),i("span",null,s(n(l)("confirmRight")),1)]),i("p",pe,s(n(l)("confirmBottom")),1)])]),_:1}),t(d,{prop:"is_finish"},{default:a(()=>[t(h,{modelValue:o.value.is_finish,"onUpdate:modelValue":e[3]||(e[3]=u=>o.value.is_finish=u),label:n(l)("isFinish"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",ce,s(n(l)("refund")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("div",null,[i("p",ve,[i("span",null,s(n(l)("refundLeft")),1),t(r,{modelValue:o.value.refund_length,"onUpdate:modelValue":e[4]||(e[4]=u=>o.value.refund_length=u),class:"!w-[120px] mx-[10px]",onkeyup:"this.value = this.value.replace(/[^\\d]/g,'');",clearable:""},null,8,["modelValue"]),i("span",null,s(n(l)("refundRight")),1)]),i("p",me,s(n(l)("refundBottom")),1)])]),_:1}),t(d,{prop:"no_allow_refund"},{default:a(()=>[t(h,{modelValue:o.value.no_allow_refund,"onUpdate:modelValue":e[5]||(e[5]=u=>o.value.no_allow_refund=u),label:n(l)("noAllowRefund"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",fe,s(n(l)("evaluate")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(n(l)("isEvaluate")),1),t(g,{class:"mx-[10px]",modelValue:o.value.is_evaluate,"onUpdate:modelValue":e[6]||(e[6]=u=>o.value.is_evaluate=u)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(n(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(n(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(n(l)("evaluateIsToExamine")),1),t(g,{class:"mx-[10px]",modelValue:o.value.evaluate_is_to_examine,"onUpdate:modelValue":e[7]||(e[7]=u=>o.value.evaluate_is_to_examine=u)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(n(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(n(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(n(l)("evaluateIsShow")),1),t(g,{class:"mx-[10px]",modelValue:o.value.evaluate_is_show,"onUpdate:modelValue":e[8]||(e[8]=u=>o.value.evaluate_is_show=u)},{default:a(()=>[t(c,{label:1},{default:a(()=>[_(s(n(l)("isEvaluateOpen")),1)]),_:1}),t(c,{label:0},{default:a(()=>[_(s(n(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",he,s(n(l)("invoice")),1),t(d,null,{default:a(()=>[i("span",null,s(n(l)("isInvoice")),1),t(g,{class:"mx-[10px]",modelValue:o.value.is_invoice,"onUpdate:modelValue":e[9]||(e[9]=u=>o.value.is_invoice=u)},{default:a(()=>[t(c,{label:"2"},{default:a(()=>[_(s(n(l)("isInvoiceClose")),1)]),_:1}),t(c,{label:"1"},{default:a(()=>[_(s(n(l)("isInvoiceOpen")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"invoice_content"},{default:a(()=>[i("div",xe,[i("div",null,s(n(l)("invoiceContent")),1),i("div",ge,[(f(!0),V($,null,z(o.value.invoice_content,(u,m)=>(f(),V("div",{class:W(["w-[120px] relative",m?"mt-[15px]":""]),key:m},[t(r,{modelValue:o.value.invoice_content[m],"onUpdate:modelValue":y=>o.value.invoice_content[m]=y,class:"!w-[120px]",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),m?(f(),I(T,{key:0,color:"rgba(0, 0, 0, 0.3)",class:"!absolute right-[-6px] top-[-5px]",onClick:y=>N(m)},{default:a(()=>[t(F)]),_:2},1032,["onClick"])):L("",!0)],2))),128))]),t(E,{onClick:B},{default:a(()=>[_(s(n(l)("insert")),1)]),_:1})])]),_:1}),t(d,{prop:"invoice_type"},{default:a(()=>[i("span",be,s(n(l)("invoiceType")),1),t(k,{modelValue:o.value.invoice_type,"onUpdate:modelValue":e[10]||(e[10]=u=>o.value.invoice_type=u)},{default:a(()=>[t(h,{label:"1"},{default:a(()=>[_(s(n(l)("electronicInvoice")),1)]),_:1}),t(h,{label:"2"},{default:a(()=>[_(s(n(l)("paperInvoice")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[j,v.value]]),v.value?L("",!0):(f(),V("div",Ve,[i("div",we,[t(E,{type:"primary",onClick:e[11]||(e[11]=u=>R(C.value))},{default:a(()=>[_(s(n(l)("save")),1)]),_:1})])]))])}}});export{ze as default};
