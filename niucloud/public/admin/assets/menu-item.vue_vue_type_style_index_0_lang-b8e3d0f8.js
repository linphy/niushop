import{d as S,j as w,Y as $,M as y,r as j,ag as F,u as e,h as t,c as u,m as d,w as c,B as l,a as h,t as p,F as x,O as I,e as O,i as T,f as q,bM as A,ax as D,bN as K,v as L}from"./index-49a7c6d3.js";import"./el-sub-menu-4ed993c7.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-108fa369.js";const Y={key:0,class:"w-[16px] h-[16px] relative flex items-center"},z={class:"ml-[10px]"},G={key:0,class:"w-[16px] h-[16px] relative flex items-center"},H={class:"ml-[10px]"},J={key:0,class:"w-[16px] h-[16px] relative flex items-center"},P={class:"ml-[10px]"},Q={key:2,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},E=S({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(s){const i=s,b=q(),m=L();w();const N=w().routers,r=$(),n=y(()=>i.routes.meta),B=y(()=>{const o={};return r==null||r.apps.forEach(a=>{o[a.key]=a}),r==null||r.addons.forEach(a=>{o[a.key]=a}),o}),C=y(()=>r==null?void 0:r.addons.map(o=>o.key)),v={};N.forEach(o=>{o.original_name=o.name,o.meta.addon&&(v[o.meta.addon]=o)});const _=j(null);return F(m,()=>{i.routes.name=="addon_list"&&(C.value.includes(m.meta.addon)&&v[m.meta.addon]?_.value=v[m.meta.addon]:_.value=null)},{immediate:!0}),(o,a)=>{const f=U,M=A,V=D,g=K;return e(n).show?(t(),u(x,{key:0},[s.routes.children?(t(),d(M,{key:0,index:String(s.routes.name)},{title:c(()=>[i.level==1?(t(),u("div",Y,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",z,p(e(n).title),1)]),default:c(()=>[(t(!0),u(x,null,I(s.routes.children,(k,R)=>(t(),d(E,{routes:k,key:R,level:i.level+1},null,8,["routes","level"]))),128)),s.routes.name=="addon_list"?(t(),u(x,{key:0},[_.value?(t(),d(E,{routes:_.value,key:o.index,level:i.level+1},null,8,["routes","level"])):l("",!0)],64)):l("",!0)]),_:1},8,["index"])):(t(),u(x,{key:1},[e(n).addon&&e(n).parent_route&&e(n).parent_route.addon==""?(t(),d(g,{key:0,index:String(s.routes.name),onClick:a[0]||(a[0]=k=>e(b).push({name:s.routes.name}))},{title:c(()=>[O(V,{placement:"right",effect:"light"},{content:c(()=>[T(" 该功能仅限"+p(e(B)[e(n).addon].title)+"使用 ",1)]),default:c(()=>[i.level==1?(t(),u("div",G,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",H,p(e(n).title),1)]),_:1})]),_:1},8,["index"])):(t(),d(g,{key:1,index:String(s.routes.name),onClick:a[1]||(a[1]=k=>e(b).push({name:s.routes.name}))},{title:c(()=>[i.level==1?(t(),u("div",J,[e(n).icon?(t(),d(f,{key:0,name:e(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",P,p(e(n).title),1)]),_:1},8,["index"]))],64)),s.routes.is_border?(t(),u("div",Q)):l("",!0)],64)):l("",!0)}}});export{E as _};
