import{d as M,v as $,f as R,l as j,r as S,h as m,c as p,e as t,w as o,a as c,t as s,u as r,i as f,k as l,J as U,m as G,F as g,O as x,B as k,S as I,E as K,D as q,G as H,H as J,K as O,$ as A,a0 as Q,a1 as W,L as X}from"./index-49a7c6d3.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{K as Y,L as Z}from"./member-3a77332f.js";const ee={class:"main-container"},te={class:"flex justify-between items-center"},le={class:"text-page-title"},ae={class:"mt-[10px]"},ne={key:0},oe={key:0},re={class:"mt-[16px] flex justify-end"},Ee=M({__name:"level",setup(ie){const C=$(),b=R(),E=C.meta.title,e=j({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{level_name:""}}),h=S(),L=i=>{i&&(i.resetFields(),u())},u=(i=1)=>{e.loading=!0,e.page=i,Y({page:e.page,limit:e.limit,...e.searchParam}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};u();const B=()=>{b.push({path:"/member/level_edit"})},N=i=>{b.push({path:"/member/level_edit",query:{id:i.level_id}})},F=i=>{I.confirm(l("memberLevelDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{Z(i).then(()=>{u()}).catch(()=>{})})};return(i,a)=>{const v=K,P=q,y=H,T=J,w=O,_=A,V=Q,z=W,D=X;return m(),p("div",ee,[t(w,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[c("div",te,[c("span",le,s(r(E)),1),t(v,{type:"primary",onClick:B},{default:o(()=>[f(s(r(l)("addMemberLevel")),1)]),_:1})]),t(w,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:o(()=>[t(T,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:h},{default:o(()=>[t(y,{label:r(l)("levelName"),prop:"level_name"},{default:o(()=>[t(P,{modelValue:e.searchParam.level_name,"onUpdate:modelValue":a[0]||(a[0]=n=>e.searchParam.level_name=n),modelModifiers:{trim:!0},placeholder:r(l)("levelNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(y,null,{default:o(()=>[t(v,{type:"primary",onClick:a[1]||(a[1]=n=>u())},{default:o(()=>[f(s(r(l)("search")),1)]),_:1}),t(v,{onClick:a[2]||(a[2]=n=>L(h.value))},{default:o(()=>[f(s(r(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c("div",ae,[U((m(),G(V,{data:e.data,size:"large"},{empty:o(()=>[c("span",null,s(e.loading?"":r(l)("emptyData")),1)]),default:o(()=>[t(_,{prop:"level_name",label:r(l)("levelName"),"min-width":"120"},null,8,["label"]),t(_,{prop:"growth",label:r(l)("growth"),"min-width":"120"},null,8,["label"]),t(_,{label:r(l)("levelBenefits"),"min-width":"120","show-overflow-tooltip":!0},{default:o(({row:n})=>[c("div",null,[(m(!0),p(g,null,x(n.level_benefits,d=>(m(),p(g,null,[d.content?(m(),p("div",ne,s(d.content),1)):k("",!0)],64))),256))])]),_:1},8,["label"]),t(_,{label:r(l)("levelGifts"),"min-width":"120"},{default:o(({row:n})=>[c("div",null,[(m(!0),p(g,null,x(n.level_gifts,d=>(m(),p(g,null,[d.content?(m(),p("div",oe,s(d.content),1)):k("",!0)],64))),256))])]),_:1},8,["label"]),t(_,{prop:"member_num",label:r(l)("memberNumber"),"min-width":"120"},null,8,["label"]),t(_,{label:r(l)("operation"),align:"right",fixed:"right",width:"130"},{default:o(({row:n})=>[t(v,{type:"primary",link:"",onClick:d=>N(n)},{default:o(()=>[f(s(r(l)("edit")),1)]),_:2},1032,["onClick"]),t(v,{type:"primary",link:"",onClick:d=>F(n.level_id)},{default:o(()=>[f(s(r(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[D,e.loading]]),c("div",re,[t(z,{"current-page":e.page,"onUpdate:current-page":a[3]||(a[3]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":a[4]||(a[4]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[5]||(a[5]=n=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Ee as default};
