import{d as S,j as w,bf as T,M as y,r as $,ag as j,u as e,h as n,c as u,m as d,w as _,B as l,a as h,t as f,F as v,O as F,e as I,i as O,f as U,bT as q,ax as A,bU as D,v as K}from"./index-ac08d87d.js";import"./el-sub-menu-4ed993c7.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as L}from"./index.vue_vue_type_script_setup_true_lang-d1dc26ab.js";const z={key:0,class:"w-[16px] h-[16px] relative flex items-center"},G={class:"ml-[10px]"},H={key:0,class:"w-[16px] h-[16px] relative flex items-center"},J={class:"ml-[10px]"},P={key:0,class:"w-[16px] h-[16px] relative flex items-center"},Q={class:"ml-[10px]"},W={key:2,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},E=S({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(o){const i=o,b=U(),c=K();w();const B=w().routers,r=T(),a=y(()=>i.routes.meta),C=y(()=>{const t={};return r==null||r.apps.forEach(s=>{t[s.key]=s}),r==null||r.addons.forEach(s=>{t[s.key]=s}),t}),N=y(()=>r==null?void 0:r.addons.map(t=>t.key)),m={};B.forEach(t=>{t.original_name=t.name,t.meta.addon&&(m[t.meta.addon]=t),t.meta.attr&&(m[t.meta.attr]=t)});const p=$(null);return j(c,()=>{i.routes.name=="addon_list"&&(N.value.includes(c.meta.addon)&&m[c.meta.addon]?p.value=m[c.meta.addon]:c.meta.attr&&m[c.meta.attr]?p.value=m[c.meta.attr]:p.value=null)},{immediate:!0}),(t,s)=>{const x=L,M=q,V=A,g=D;return e(a).show?(n(),u(v,{key:0},[o.routes.children?(n(),d(M,{key:0,index:String(o.routes.name)},{title:_(()=>[i.level==1?(n(),u("div",z,[e(a).icon?(n(),d(x,{key:0,name:e(a).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",G,f(e(a).title),1)]),default:_(()=>[(n(!0),u(v,null,F(o.routes.children,(k,R)=>(n(),d(E,{routes:k,key:R,level:i.level+1},null,8,["routes","level"]))),128)),o.routes.name=="addon_list"?(n(),u(v,{key:0},[p.value?(n(),d(E,{routes:p.value,key:t.index,level:i.level+1},null,8,["routes","level"])):l("",!0)],64)):l("",!0)]),_:1},8,["index"])):(n(),u(v,{key:1},[e(a).addon&&e(a).parent_route&&e(a).parent_route.addon==""?(n(),d(g,{key:0,index:String(o.routes.name),onClick:s[0]||(s[0]=k=>e(b).push({name:o.routes.name}))},{title:_(()=>[I(V,{placement:"right",effect:"light"},{content:_(()=>[O(" 该功能仅限"+f(e(C)[e(a).addon].title)+"使用 ",1)]),default:_(()=>[i.level==1?(n(),u("div",H,[e(a).icon?(n(),d(x,{key:0,name:e(a).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",J,f(e(a).title),1)]),_:1})]),_:1},8,["index"])):(n(),d(g,{key:1,index:String(o.routes.name),onClick:s[1]||(s[1]=k=>e(b).push({name:o.routes.name}))},{title:_(()=>[i.level==1?(n(),u("div",P,[e(a).icon?(n(),d(x,{key:0,name:e(a).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",Q,f(e(a).title),1)]),_:1},8,["index"]))],64)),o.routes.is_border?(n(),u("div",W)):l("",!0)],64)):l("",!0)}}});export{E as _};
