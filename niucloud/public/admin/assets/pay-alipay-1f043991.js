import{d as U,r as m,l as q,M as F,k as a,h as V,m as v,w as r,a as u,e as o,i as P,t as f,u as p,J as R,D as B,G as N,H as S,E as T,V as M,L as $}from"./index-ad4e42d5.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                     */import{_ as j}from"./index.vue_vue_type_style_index_0_lang-c3145cc2.js";/* empty css                 */import{T as _}from"./test-71dfb9c1.js";/* empty css                    */const L={class:"form-tip"},O={class:"input-width"},A={class:"input-width"},G={class:"input-width"},H={class:"dialog-footer"},pe=U({__name:"pay-alipay",emits:["complete"],setup(J,{expose:w,emit:C}){const s=m(!1),c=m(!0),g={type:"alipay",app_id:"",config:{app_secret_cert:"",app_public_cert_path:"",alipay_public_cert_path:"",alipay_root_cert_path:""},channel:"",status:0,is_default:0},e=q({...g}),y=m(),D=F(()=>({"config.app_id":[{required:!0,message:a("appIdPlaceholder"),trigger:"blur"}],"config.app_secret_cert":[{required:!0,message:a("appSecretCertPlaceholder"),trigger:"blur"}],"config.app_public_cert_path":[{required:!0,message:a("appPublicCertPathPlaceholder"),trigger:"blur"}],"config.alipay_public_cert_path":[{required:!0,message:a("alipayPublicCertPathPlaceholder"),trigger:"blur"}],"config.alipay_root_cert_path":[{required:!0,message:a("alipayRootCertPathPlaceholder"),trigger:"blur"}]})),x=async i=>{c.value||!i||await i.validate(async t=>{t&&(C("complete",e),s.value=!1)})};return w({showDialog:s,setFormData:async(i=null)=>{c.value=!0,Object.assign(e,g),i&&(Object.keys(e).forEach(t=>{i[t]!=null&&(e[t]=i[t])}),e.channel=i.redio_key.split("_")[0],e.status=Number(e.status)),c.value=!1},enableVerify:()=>{let i=!0;return(_.empty(e.config.app_id)||_.empty(e.config.app_secret_cert)||_.empty(e.config.app_public_cert_path)||_.empty(e.config.alipay_public_cert_path)||_.empty(e.config.alipay_root_cert_path))&&(i=!1),i}}),(i,t)=>{const h=B,n=N,d=j,k=S,b=T,E=M,I=$;return V(),v(E,{modelValue:s.value,"onUpdate:modelValue":t[7]||(t[7]=l=>s.value=l),title:p(a)("updateAlipay"),width:"550px","destroy-on-close":!0},{footer:r(()=>[u("span",H,[o(b,{onClick:t[5]||(t[5]=l=>s.value=!1)},{default:r(()=>[P(f(p(a)("cancel")),1)]),_:1}),o(b,{type:"primary",loading:c.value,onClick:t[6]||(t[6]=l=>x(y.value))},{default:r(()=>[P(f(p(a)("confirm")),1)]),_:1},8,["loading"])])]),default:r(()=>[R((V(),v(k,{model:e,"label-width":"110px",ref_key:"formRef",ref:y,rules:p(D),class:"page-form"},{default:r(()=>[o(n,{label:p(a)("appId"),prop:"config.app_id"},{default:r(()=>[o(h,{modelValue:e.config.app_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e.config.app_id=l),modelModifiers:{trim:!0},placeholder:p(a)("appIdPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),u("div",L,f(p(a)("appIdTips")),1)]),_:1},8,["label"]),o(n,{label:p(a)("appSecretCert"),prop:"config.app_secret_cert"},{default:r(()=>[o(h,{modelValue:e.config.app_secret_cert,"onUpdate:modelValue":t[1]||(t[1]=l=>e.config.app_secret_cert=l),placeholder:p(a)("appSecretCertPlaceholder"),class:"input-width",type:"textarea",rows:"4",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(n,{label:p(a)("appPublicCertPath"),prop:"config.app_public_cert_path"},{default:r(()=>[u("div",O,[o(d,{modelValue:e.config.app_public_cert_path,"onUpdate:modelValue":t[2]||(t[2]=l=>e.config.app_public_cert_path=l),modelModifiers:{trim:!0},api:"sys/document/aliyun"},null,8,["modelValue"])])]),_:1},8,["label"]),o(n,{label:p(a)("alipayPublicCertPath"),prop:"config.alipay_public_cert_path"},{default:r(()=>[u("div",A,[o(d,{modelValue:e.config.alipay_public_cert_path,"onUpdate:modelValue":t[3]||(t[3]=l=>e.config.alipay_public_cert_path=l),api:"sys/document/aliyun"},null,8,["modelValue"])])]),_:1},8,["label"]),o(n,{label:p(a)("alipayRootCertPath"),prop:"config.alipay_root_cert_path"},{default:r(()=>[u("div",G,[o(d,{modelValue:e.config.alipay_root_cert_path,"onUpdate:modelValue":t[4]||(t[4]=l=>e.config.alipay_root_cert_path=l),api:"sys/document/aliyun"},null,8,["modelValue"])])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[I,c.value]])]),_:1},8,["modelValue","title"])}}});export{pe as default};
